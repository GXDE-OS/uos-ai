import{g as e,o as t,a as n,r as o,i as a,w as r,b as l,c as i,n as s,e as u,f as c,h as d,j as p,k as f,l as v,m,p as h,q as g,t as y,s as b,v as w,x,y as A,z as S,A as E,B as O,C as T,D as k,E as C,F as L,G as I,H as _,I as P,J as M,K as R,L as B,M as z,N as $,O as N,P as j,Q as D,R as H,S as W,T as F,U as K,V as q,W as V,X as Q,Y as U,Z as G,_ as J,$ as Z,a0 as X,a1 as Y,a2 as ee,a3 as te,a4 as ne,a5 as oe,a6 as ae,a7 as re,a8 as le,a9 as ie,u as se,aa as ue}from"./index.js";import{u as ce,Q as de}from"./global.js";import{_ as pe,a as fe}from"./ChatTop.js";const ve="object"==typeof global&&global&&global.Object===Object&&global;var me="object"==typeof self&&self&&self.Object===Object&&self;const he=ve||me||Function("return this")();const ge=he.Symbol;var ye=Object.prototype,be=ye.hasOwnProperty,we=ye.toString,xe=ge?ge.toStringTag:void 0;var Ae=Object.prototype.toString;var Se=ge?ge.toStringTag:void 0;function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Se&&Se in Object(e)?function(e){var t=be.call(e,xe),n=e[xe];try{e[xe]=void 0;var o=!0}catch(r){}var a=we.call(e);return o&&(t?e[xe]=n:delete e[xe]),a}(e):function(e){return Ae.call(e)}(e)}var Oe=/\s/;var Te=/^\s+/;function ke(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Oe.test(e.charAt(t)););return t}(e)+1).replace(Te,""):e}function Ce(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Le=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,_e=/^0o[0-7]+$/i,Pe=parseInt;function Me(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==Ee(e)}(e))return NaN;if(Ce(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ce(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ke(e);var n=Ie.test(e);return n||_e.test(e)?Pe(e.slice(2),n?2:8):Le.test(e)?NaN:+e}function Re(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Me(n))==n?n:0),void 0!==t&&(t=(t=Me(t))==t?t:0),function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}(Me(e),t,n)}const Be=function(){return he.Date.now()};var ze=Math.max,$e=Math.min;function Ne(e,t,n){var o,a,r,l,i,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=o,r=a;return o=a=void 0,u=t,l=e.apply(r,n)}function v(e){return u=e,i=setTimeout(h,t),c?f(e):l}function m(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-u>=r}function h(){var e=Be();if(m(e))return g(e);i=setTimeout(h,function(e){var n=t-(e-s);return d?$e(n,r-(e-u)):n}(e))}function g(e){return i=void 0,p&&o?f(e):(o=a=void 0,l)}function y(){var e=Be(),n=m(e);if(o=arguments,a=this,s=e,n){if(void 0===i)return v(s);if(d)return clearTimeout(i),i=setTimeout(h,t),f(s)}return void 0===i&&(i=setTimeout(h,t)),l}return t=Me(t)||0,Ce(n)&&(c=!!n.leading,r=(d="maxWait"in n)?ze(Me(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==i&&clearTimeout(i),u=0,o=s=a=i=void 0},y.flush=function(){return void 0===i?l:g(Be())},y}function je(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var a=e[t];o[a[0]]=a[1]}return o}function De(e){return null==e}function He(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ce(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),Ne(e,t,{leading:o,maxWait:t,trailing:a})}const We=(e,t,{checkForDefaultPrevented:n=!0}={})=>o=>{const a=null==e?void 0:e(o);if(!1===n||!a)return null==t?void 0:t(o)};var Fe;const Ke="undefined"!=typeof window,qe=e=>"boolean"==typeof e,Ve=e=>"number"==typeof e,Qe=()=>{};function Ue(e){return"function"==typeof e?e():n(e)}Ke&&(null==(Fe=null==window?void 0:window.navigator)?void 0:Fe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const Ge="mounted",Je="unmounted";function Ze(n){return!!e()&&(t(n),!0)}function Xe(e){var t;const n=Ue(e);return null!=(t=null==n?void 0:n.$el)?t:n}const Ye=Ke?window:void 0;function et(...e){let t,n,o,a;if("string"==typeof e[0]?([n,o,a]=e,t=Ye):[t,n,o,a]=e,!t)return Qe;let l=Qe;const i=r((()=>Xe(t)),(e=>{l(),e&&(e.addEventListener(n,o,a),l=()=>{e.removeEventListener(n,o,a),l=Qe})}),{immediate:!0,flush:"post"}),s=()=>{i(),l()};return Ze(s),s}function tt(e,t,n={}){const{window:a=Ye,ignore:r,capture:l=!0,detectIframe:i=!1}=n;if(!a)return;const s=o(!0);let u;const c=n=>{a.clearTimeout(u);const o=Xe(e);o&&o!==n.target&&!n.composedPath().includes(o)&&s.value&&t(n)},d=[et(a,"click",c,{passive:!0,capture:l}),et(a,"pointerdown",(t=>{const n=Xe(e);var o;s.value=!(!n||t.composedPath().includes(n)||(o=t,r&&r.some((e=>{const t=Xe(e);return t&&(o.target===t||o.composedPath().includes(t))}))))}),{passive:!0}),et(a,"pointerup",(e=>{if(0===e.button){const t=e.composedPath();e.composedPath=()=>t,u=a.setTimeout((()=>c(e)),50)}}),{passive:!0}),i&&et(a,"blur",(n=>{var o;const a=Xe(e);"IFRAME"!==(null==(o=document.activeElement)?void 0:o.tagName)||(null==a?void 0:a.contains(document.activeElement))||t(n)}))].filter(Boolean);return()=>d.forEach((e=>e()))}function nt(e,t=!1){const n=o(),a=()=>n.value=Boolean(e());return a(),function(e,t=!0){l()?i(e):t?e():s(e)}(a,t),n}const ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},at="__vueuse_ssr_handlers__";ot[at]=ot[at]||{},ot[at];var rt,lt,it=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;function ct(e,t,n={}){const o=n,{window:a=Ye}=o,l=((e,t)=>{var n={};for(var o in e)st.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&it)for(var o of it(e))t.indexOf(o)<0&&ut.call(e,o)&&(n[o]=e[o]);return n})(o,["window"]);let i;const s=nt((()=>a&&"ResizeObserver"in a)),u=()=>{i&&(i.disconnect(),i=void 0)},c=r((()=>Xe(e)),(e=>{u(),s.value&&a&&e&&(i=new ResizeObserver(t),i.observe(e,l))}),{immediate:!0,flush:"post"}),d=()=>{u(),c()};return Ze(d),{isSupported:s,stop:d}}(lt=rt||(rt={})).UP="UP",lt.RIGHT="RIGHT",lt.DOWN="DOWN",lt.LEFT="LEFT",lt.NONE="NONE";var dt=Object.defineProperty,pt=Object.getOwnPropertySymbols,ft=Object.prototype.hasOwnProperty,vt=Object.prototype.propertyIsEnumerable,mt=(e,t,n)=>t in e?dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;((e,t)=>{for(var n in t||(t={}))ft.call(t,n)&&mt(e,n,t[n]);if(pt)for(var n of pt(t))vt.call(t,n)&&mt(e,n,t[n])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const ht=e=>void 0===e,gt=e=>"undefined"!=typeof Element&&e instanceof Element;function yt(e,t="px"){return e?u(e)?e:Ve(e)?`${e}${t}`:void 0:""}
/*! Element Plus Icons Vue v2.0.9 */var bt=(e,t)=>{let n=e.__vccOpts||e;for(let[o,a]of t)n[o]=a;return n},wt={name:"CircleCheck"},xt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},At=[p("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),p("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1)];var St=bt(wt,[["render",function(e,t,n,o,a,r){return c(),d("svg",xt,At)}],["__file","circle-check.vue"]]),Et={name:"CircleClose"},Ot={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Tt=[p("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),p("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1)];var kt=bt(Et,[["render",function(e,t,n,o,a,r){return c(),d("svg",Ot,Tt)}],["__file","circle-close.vue"]]),Ct={name:"Hide"},Lt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},It=[p("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),p("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1)];var _t=bt(Ct,[["render",function(e,t,n,o,a,r){return c(),d("svg",Lt,It)}],["__file","hide.vue"]]),Pt={name:"Loading"},Mt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Rt=[p("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1)];var Bt=bt(Pt,[["render",function(e,t,n,o,a,r){return c(),d("svg",Mt,Rt)}],["__file","loading.vue"]]),zt={name:"View"},$t={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Nt=[p("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1)];var jt=bt(zt,[["render",function(e,t,n,o,a,r){return c(),d("svg",$t,Nt)}],["__file","view.vue"]]);const Dt=(e,t)=>{if(!f(e)||f(n=e)&&n.__epPropKey)return e;var n;const{values:o,required:a,default:r,type:l,validator:i}=e,s=o||i?n=>{let a=!1,l=[];if(o&&(l=Array.from(o),v(e,"default")&&l.push(r),a||(a=l.includes(n))),i&&(a||(a=i(n))),!a&&l.length>0){const e=[...new Set(l)].map((e=>JSON.stringify(e))).join(", ");m(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${e}], got value ${JSON.stringify(n)}.`)}return a}:void 0,u={type:l,required:!!a,validator:s,__epPropKey:!0};return v(e,"default")&&(u.default=r),u},Ht=e=>je(Object.entries(e).map((([e,t])=>[e,Dt(t,e)]))),Wt=[String,Object,Function],Ft={validating:Bt,success:St,error:kt},Kt=(e,t)=>{if(e.install=n=>{for(const o of[e,...Object.values(null!=t?t:{})])n.component(o.name,o)},t)for(const[n,o]of Object.entries(t))e[n]=o;return e},qt="Tab",Vt="Enter",Qt="Space",Ut="Escape",Gt=["class","style"],Jt=/^on[A-Z]/,Zt=Symbol(),Xt=Symbol("formContextKey"),Yt=Symbol("formItemContextKey"),en=Symbol("popper"),tn=Symbol("popperContent"),nn=e=>{const t=l();return h((()=>{var n,o;return null!=(o=(null==(n=t.proxy)?void 0:n.$props)[e])?o:void 0}))},on=o();function an(e,t){const n=l()?g(Zt,on):on;return e?h((()=>{var o,a;return null!=(a=null==(o=n.value)?void 0:o[e])?a:t})):n}const rn=Dt({type:String,values:["","default","small","large"],required:!1}),ln=(e,t,n,o,a)=>{let r=`${e}-${t}`;return n&&(r+=`-${n}`),o&&(r+=`__${o}`),a&&(r+=`--${a}`),r},sn=e=>{const t=an("namespace","el");return{namespace:t,b:(n="")=>ln(t.value,e,n,"",""),e:n=>n?ln(t.value,e,"",n,""):"",m:n=>n?ln(t.value,e,"","",n):"",be:(n,o)=>n&&o?ln(t.value,e,n,o,""):"",em:(n,o)=>n&&o?ln(t.value,e,"",n,o):"",bm:(n,o)=>n&&o?ln(t.value,e,n,"",o):"",bem:(n,o,a)=>n&&o&&a?ln(t.value,e,n,o,a):"",is:(e,...t)=>{const n=!(t.length>=1)||t[0];return e&&n?`is-${e}`:""},cssVar:e=>{const n={};for(const o in e)e[o]&&(n[`--${t.value}-${o}`]=e[o]);return n},cssVarName:e=>`--${t.value}-${e}`,cssVarBlock:n=>{const o={};for(const a in n)n[a]&&(o[`--${t.value}-${e}-${a}`]=n[a]);return o},cssVarBlockName:n=>`--${t.value}-${e}-${n}`}},un={prefix:Math.floor(1e4*Math.random()),current:0},cn=Symbol("elIdInjection"),dn=e=>{const t=g(cn,un),o=an("namespace","el");return h((()=>n(e)||`${o.value}-id-${t.prefix}-${t.current++}`))},pn=Dt({type:Boolean,default:null}),fn=Dt({type:Function});let vn=[];const mn=e=>{const t=e;t.key===Ut&&vn.forEach((e=>e(t)))};let hn;const gn=`${an("namespace","el").value}-popper-container-${Math.floor(1e4*Math.random())}`,yn=`#${gn}`,bn=()=>{A((()=>{Ke&&(hn&&document.body.querySelector(yn)||(hn=(()=>{const e=document.createElement("div");return e.id=gn,document.body.appendChild(e),e})()))}))},wn=Ht({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200}}),xn=({showAfter:e,hideAfter:t,open:o,close:a})=>{const{registerTimeout:r}=function(){let e;const t=()=>window.clearTimeout(e);return Ze((()=>t())),{registerTimeout:(n,o)=>{t(),e=window.setTimeout(n,o)},cancelTimeout:t}}();return{onOpen:t=>{r((()=>{o(t)}),n(e))},onClose:e=>{r((()=>{a(e)}),n(t))}}},An=Symbol("elForwardRef"),Sn=o(0);var En=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const On=Kt(En(E({name:"ElIcon",inheritAttrs:!1,props:Ht({size:{type:[Number,String]},color:{type:String}}),setup(e){const t=e,o=sn("icon"),a=h((()=>{const{size:e,color:n}=t;return e||n?{fontSize:ht(e)?void 0:yt(e),"--color":n}:{}}));return(e,t)=>(c(),d("i",T({class:n(o).b(),style:n(a)},e.$attrs),[O(e.$slots,"default")],16))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]));let Tn;const kn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Cn(e,t=1,n){var o;Tn||(Tn=document.createElement("textarea"),document.body.appendChild(Tn));const{paddingSize:a,borderSize:r,boxSizing:l,contextStyle:i}=function(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),a=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:kn.map((e=>`${e}:${t.getPropertyValue(e)}`)).join(";"),paddingSize:o,borderSize:a,boxSizing:n}}(e);Tn.setAttribute("style",`${i};\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n`),Tn.value=e.value||e.placeholder||"";let s=Tn.scrollHeight;const u={};"border-box"===l?s+=r:"content-box"===l&&(s-=a),Tn.value="";const c=Tn.scrollHeight-a;if(Ve(t)){let e=c*t;"border-box"===l&&(e=e+a+r),s=Math.max(e,s),u.minHeight=`${e}px`}if(Ve(n)){let e=c*n;"border-box"===l&&(e=e+a+r),s=Math.min(e,s)}return u.height=`${s}px`,null==(o=Tn.parentNode)||o.removeChild(Tn),Tn=void 0,u}const Ln=Ht({id:{type:String,default:void 0},size:rn,disabled:Boolean,modelValue:{type:[String,Number,Object],default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Wt},prefixIcon:{type:Wt},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:[Object,Array,String],default:()=>({})}}),In=["role"],_n=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],Pn=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"];const Mn=Kt(En(E({name:"ElInput",inheritAttrs:!1,props:Ln,emits:{"update:modelValue":e=>u(e),input:e=>u(e),change:e=>u(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},setup(e,{expose:t,emit:a}){const u=e,v={suffix:"append",prefix:"prepend"},m=l(),w=k(),x=C(),A=h((()=>{const e={};return"combobox"===u.containerRole&&(e["aria-haspopup"]=w["aria-haspopup"],e["aria-owns"]=w["aria-owns"],e["aria-expanded"]=w["aria-expanded"]),e})),S=((e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,o=h((()=>((null==n?void 0:n.value)||[]).concat(Gt))),a=l();return h(a?()=>{var e;return je(Object.entries(null==(e=a.proxy)?void 0:e.$attrs).filter((([e])=>!(o.value.includes(e)||t&&Jt.test(e)))))}:()=>({}))})({excludeKeys:h((()=>Object.keys(A.value)))}),{form:E,formItem:K}={form:g(Xt,void 0),formItem:g(Yt,void 0)},{inputId:q}=((e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:a})=>{n||(n=o(!1)),a||(a=o(!1));const l=o();let s;const u=h((()=>{var n;return!!(!e.label&&t&&t.inputIds&&(null==(n=t.inputIds)?void 0:n.length)<=1)}));return i((()=>{s=r([y(e,"id"),n],(([e,n])=>{const o=null!=e?e:n?void 0:dn().value;o!==l.value&&((null==t?void 0:t.removeInputId)&&(l.value&&t.removeInputId(l.value),(null==a?void 0:a.value)||n||!o||t.addInputId(o)),l.value=o)}),{immediate:!0})})),b((()=>{s&&s(),(null==t?void 0:t.removeInputId)&&l.value&&t.removeInputId(l.value)})),{isLabeledByFormItem:u,inputId:l}})(u,{formItemContext:K}),V=((e,t={})=>{const a=o(void 0),r=t.prop?a:nn("size"),l=t.global?a:an("size"),i=t.form?{size:void 0}:g(Xt,void 0),s=t.formItem?{size:void 0}:g(Yt,void 0);return h((()=>r.value||n(e)||(null==s?void 0:s.size)||(null==i?void 0:i.size)||l.value||""))})(),Q=(e=>{const t=nn("disabled"),o=g(Xt,void 0);return h((()=>t.value||n(e)||(null==o?void 0:o.disabled)||!1))})(),U=sn("input"),G=sn("textarea"),J=L(),Z=L(),X=o(!1),Y=o(!1),ee=o(!1),te=o(!1),ne=o(),oe=L(u.inputStyle),ae=h((()=>J.value||Z.value)),re=h((()=>{var e;return null!=(e=null==E?void 0:E.statusIcon)&&e})),le=h((()=>(null==K?void 0:K.validateState)||"")),ie=h((()=>le.value&&Ft[le.value])),se=h((()=>te.value?jt:_t)),ue=h((()=>[w.style,u.inputStyle])),ce=h((()=>[u.inputStyle,oe.value,{resize:u.resize}])),de=h((()=>De(u.modelValue)?"":String(u.modelValue))),pe=h((()=>u.clearable&&!Q.value&&!u.readonly&&!!de.value&&(X.value||Y.value))),fe=h((()=>u.showPassword&&!Q.value&&!u.readonly&&!!de.value&&(!!de.value||X.value))),ve=h((()=>u.showWordLimit&&!!S.value.maxlength&&("text"===u.type||"textarea"===u.type)&&!Q.value&&!u.readonly&&!u.showPassword)),me=h((()=>Array.from(de.value).length)),he=h((()=>!!ve.value&&me.value>Number(S.value.maxlength))),ge=h((()=>!!x.suffix||!!u.suffixIcon||pe.value||u.showPassword||ve.value||!!le.value&&re.value)),[ye,be]=function(e){const t=o();return[function(){if(null==e.value)return;const{selectionStart:n,selectionEnd:o,value:a}=e.value;if(null==n||null==o)return;const r=a.slice(0,Math.max(0,n)),l=a.slice(Math.max(0,o));t.value={selectionStart:n,selectionEnd:o,value:a,beforeTxt:r,afterTxt:l}},function(){if(null==e.value||null==t.value)return;const{value:n}=e.value,{beforeTxt:o,afterTxt:a,selectionStart:r}=t.value;if(null==o||null==a||null==r)return;let l=n.length;if(n.endsWith(a))l=n.length-a.length;else if(n.startsWith(o))l=o.length;else{const e=o[r-1],t=n.indexOf(e,r-1);-1!==t&&(l=t+1)}e.value.setSelectionRange(l,l)}]}(J);ct(Z,(e=>{if(!ve.value||"both"!==u.resize)return;const t=e[0],{width:n}=t.contentRect;ne.value={right:`calc(100% - ${n+15+6}px)`}}));const we=()=>{const{type:e,autosize:t}=u;if(Ke&&"textarea"===e)if(t){const e=f(t)?t.minRows:void 0,n=f(t)?t.maxRows:void 0;oe.value={...Cn(Z.value,e,n)}}else oe.value={minHeight:Cn(Z.value).minHeight}},xe=()=>{const e=ae.value;e&&e.value!==de.value&&(e.value=de.value)},Ae=e=>{const{el:t}=m.vnode;if(!t)return;const n=Array.from(t.querySelectorAll(`.${U.e(e)}`)).find((e=>e.parentNode===t));if(!n)return;const o=v[e];x[o]?n.style.transform=`translateX(${"suffix"===e?"-":""}${t.querySelector(`.${U.be("group",o)}`).offsetWidth}px)`:n.removeAttribute("style")},Se=()=>{Ae("prefix"),Ae("suffix")},Ee=async e=>{ye();let{value:t}=e.target;u.formatter&&(t=u.parser?u.parser(t):t,t=u.formatter(t)),ee.value||(t!==de.value?(a("update:modelValue",t),a("input",t),await s(),xe(),be()):xe())},Oe=e=>{a("change",e.target.value)},Te=e=>{a("compositionstart",e),ee.value=!0},ke=e=>{var t;a("compositionupdate",e);const n=null==(t=e.target)?void 0:t.value,o=n[n.length-1]||"";ee.value=!(e=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e))(o)},Ce=e=>{a("compositionend",e),ee.value&&(ee.value=!1,Ee(e))},Le=()=>{te.value=!te.value,Ie()},Ie=async()=>{var e;await s(),null==(e=ae.value)||e.focus()},_e=e=>{X.value=!0,a("focus",e)},Pe=e=>{var t;X.value=!1,a("blur",e),u.validateEvent&&(null==(t=null==K?void 0:K.validate)||t.call(K,"blur").catch((e=>{})))},Me=e=>{Y.value=!1,a("mouseleave",e)},Re=e=>{Y.value=!0,a("mouseenter",e)},Be=e=>{a("keydown",e)},ze=()=>{a("update:modelValue",""),a("change",""),a("clear"),a("input","")};return r((()=>u.modelValue),(()=>{var e;s((()=>we())),u.validateEvent&&(null==(e=null==K?void 0:K.validate)||e.call(K,"change").catch((e=>{})))})),r(de,(()=>xe())),r((()=>u.type),(async()=>{await s(),xe(),we(),Se()})),i((async()=>{!u.formatter&&u.parser,xe(),Se(),await s(),we()})),I((async()=>{await s(),Se()})),t({input:J,textarea:Z,ref:ae,textareaStyle:ce,autosize:y(u,"autosize"),focus:Ie,blur:()=>{var e;return null==(e=ae.value)?void 0:e.blur()},select:()=>{var e;null==(e=ae.value)||e.select()},clear:ze,resizeTextarea:we}),(e,t)=>_((c(),d("div",T(n(A),{class:["textarea"===e.type?n(G).b():n(U).b(),n(U).m(n(V)),n(U).is("disabled",n(Q)),n(U).is("exceed",n(he)),{[n(U).b("group")]:e.$slots.prepend||e.$slots.append,[n(U).bm("group","append")]:e.$slots.append,[n(U).bm("group","prepend")]:e.$slots.prepend,[n(U).m("prefix")]:e.$slots.prefix||e.prefixIcon,[n(U).m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[n(U).bm("suffix","password-clear")]:n(pe)&&n(fe)},e.$attrs.class],style:n(ue),role:e.containerRole,onMouseenter:Re,onMouseleave:Me}),[M(" input "),"textarea"!==e.type?(c(),d(R,{key:0},[M(" prepend slot "),e.$slots.prepend?(c(),d("div",{key:0,class:B(n(U).be("group","prepend"))},[O(e.$slots,"prepend")],2)):M("v-if",!0),p("div",{class:B([n(U).e("wrapper"),n(U).is("focus",X.value)])},[M(" prefix slot "),e.$slots.prefix||e.prefixIcon?(c(),d("span",{key:0,class:B(n(U).e("prefix"))},[p("span",{class:B(n(U).e("prefix-inner"))},[O(e.$slots,"prefix"),e.prefixIcon?(c(),z(n(On),{key:0,class:B(n(U).e("icon"))},{default:$((()=>[(c(),z(N(e.prefixIcon)))])),_:1},8,["class"])):M("v-if",!0)],2)],2)):M("v-if",!0),p("input",T({id:n(q),ref_key:"input",ref:J,class:n(U).e("inner")},n(S),{type:e.showPassword?te.value?"text":"password":e.type,disabled:n(Q),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:Te,onCompositionupdate:ke,onCompositionend:Ce,onInput:Ee,onFocus:_e,onBlur:Pe,onChange:Oe,onKeydown:Be}),null,16,_n),M(" suffix slot "),n(ge)?(c(),d("span",{key:1,class:B(n(U).e("suffix"))},[p("span",{class:B(n(U).e("suffix-inner"))},[n(pe)&&n(fe)&&n(ve)?M("v-if",!0):(c(),d(R,{key:0},[O(e.$slots,"suffix"),e.suffixIcon?(c(),z(n(On),{key:0,class:B(n(U).e("icon"))},{default:$((()=>[(c(),z(N(e.suffixIcon)))])),_:1},8,["class"])):M("v-if",!0)],64)),n(pe)?(c(),z(n(On),{key:1,class:B([n(U).e("icon"),n(U).e("clear")]),onMousedown:D(n(H),["prevent"]),onClick:ze},{default:$((()=>[j(n(kt))])),_:1},8,["class","onMousedown"])):M("v-if",!0),n(fe)?(c(),z(n(On),{key:2,class:B([n(U).e("icon"),n(U).e("password")]),onClick:Le},{default:$((()=>[(c(),z(N(n(se))))])),_:1},8,["class"])):M("v-if",!0),n(ve)?(c(),d("span",{key:3,class:B(n(U).e("count"))},[p("span",{class:B(n(U).e("count-inner"))},W(n(me))+" / "+W(n(S).maxlength),3)],2)):M("v-if",!0),n(le)&&n(ie)&&n(re)?(c(),z(n(On),{key:4,class:B([n(U).e("icon"),n(U).e("validateIcon"),n(U).is("loading","validating"===n(le))])},{default:$((()=>[(c(),z(N(n(ie))))])),_:1},8,["class"])):M("v-if",!0)],2)],2)):M("v-if",!0)],2),M(" append slot "),e.$slots.append?(c(),d("div",{key:1,class:B(n(U).be("group","append"))},[O(e.$slots,"append")],2)):M("v-if",!0)],64)):(c(),d(R,{key:1},[M(" textarea "),p("textarea",T({id:n(q),ref_key:"textarea",ref:Z,class:n(G).e("inner")},n(S),{tabindex:e.tabindex,disabled:n(Q),readonly:e.readonly,autocomplete:e.autocomplete,style:n(ce),"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:Te,onCompositionupdate:ke,onCompositionend:Ce,onInput:Ee,onFocus:_e,onBlur:Pe,onChange:Oe,onKeydown:Be}),null,16,Pn),n(ve)?(c(),d("span",{key:0,style:F(ne.value),class:B(n(U).e("count"))},W(n(me))+" / "+W(n(S).maxlength),7)):M("v-if",!0)],64))],16,In)),[[P,"hidden"!==e.type]])}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]])),Rn=Ht({role:{type:String,values:["dialog","grid","listbox","menu","tooltip","tree"],default:"tooltip"}});var Bn=En(E({name:"ElPopperRoot",inheritAttrs:!1,props:Rn,setup(e,{expose:t}){const n=e,a={triggerRef:o(),popperInstanceRef:o(),contentRef:o(),referenceRef:o(),role:h((()=>n.role))};return t(a),S(en,a),(e,t)=>O(e.$slots,"default")}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/popper.vue"]]);const zn=Ht({arrowOffset:{type:Number,default:5}});var $n=En(E({name:"ElPopperArrow",inheritAttrs:!1,props:zn,setup(e,{expose:t}){const o=e,a=sn("popper"),{arrowOffset:l,arrowRef:i}=g(tn,void 0);return r((()=>o.arrowOffset),(e=>{l.value=e})),x((()=>{i.value=void 0})),t({arrowRef:i}),(e,t)=>(c(),d("span",{ref_key:"arrowRef",ref:i,class:B(n(a).e("arrow")),"data-popper-arrow":""},null,2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/arrow.vue"]]);const Nn=E({name:"ElOnlyChild",setup(e,{slots:t,attrs:n}){var o;const a=g(An),r=(l=null!=(o=null==a?void 0:a.setForwardRef)?o:H,{mounted(e){l(e)},updated(e){l(e)},unmounted(){l(null)}});var l;return()=>{var e;const o=null==(e=t.default)?void 0:e.call(t,n);if(!o)return null;if(o.length>1)return null;const a=jn(o);return a?_(K(a,n),[[r]]):null}}});function jn(e){if(!e)return null;const t=e;for(const n of t){if(f(n))switch(n.type){case V:continue;case q:case"svg":return Dn(n);case R:return jn(n.children);default:return n}return Dn(n)}return null}function Dn(e){const t=sn("only-child");return j("span",{class:t.e("content")},[e])}const Hn=Ht({virtualRef:{type:Object},virtualTriggering:Boolean,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,onBlur:Function,onContextmenu:Function,id:String,open:Boolean});var Wn=En(E({name:"ElPopperTrigger",inheritAttrs:!1,props:Hn,setup(e,{expose:t}){const o=e,{role:a,triggerRef:l}=g(en,void 0);var s;s=l,S(An,{setForwardRef:e=>{s.value=e}});const u=h((()=>p.value?o.id:void 0)),d=h((()=>{if(a&&"tooltip"===a.value)return o.open&&o.id?o.id:void 0})),p=h((()=>{if(a&&"tooltip"!==a.value)return a.value})),f=h((()=>p.value?`${o.open}`:void 0));let v;return i((()=>{r((()=>o.virtualRef),(e=>{e&&(l.value=Xe(e))}),{immediate:!0}),r((()=>l.value),((e,t)=>{null==v||v(),v=void 0,gt(e)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach((n=>{var a;const r=o[n];r&&(e.addEventListener(n.slice(2).toLowerCase(),r),null==(a=null==t?void 0:t.removeEventListener)||a.call(t,n.slice(2).toLowerCase(),r))})),v=r([u,d,p,f],(t=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((n,o)=>{De(t[o])?e.removeAttribute(n):e.setAttribute(n,t[o])}))}),{immediate:!0})),gt(t)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((e=>t.removeAttribute(e)))}),{immediate:!0})})),x((()=>{null==v||v(),v=void 0})),t({triggerRef:l}),(e,t)=>e.virtualTriggering?M("v-if",!0):(c(),z(n(Nn),T({key:0},e.$attrs,{"aria-controls":n(u),"aria-describedby":n(d),"aria-expanded":n(f),"aria-haspopup":n(p)}),{default:$((()=>[O(e.$slots,"default")])),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/trigger.vue"]]),Fn="top",Kn="bottom",qn="right",Vn="left",Qn="auto",Un=[Fn,Kn,qn,Vn],Gn="start",Jn="end",Zn="viewport",Xn="popper",Yn=Un.reduce((function(e,t){return e.concat([t+"-"+Gn,t+"-"+Jn])}),[]),eo=[].concat(Un,[Qn]).reduce((function(e,t){return e.concat([t,t+"-"+Gn,t+"-"+Jn])}),[]),to=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function no(e){return e?(e.nodeName||"").toLowerCase():null}function oo(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ao(e){return e instanceof oo(e).Element||e instanceof Element}function ro(e){return e instanceof oo(e).HTMLElement||e instanceof HTMLElement}function lo(e){return"undefined"!=typeof ShadowRoot&&(e instanceof oo(e).ShadowRoot||e instanceof ShadowRoot)}var io={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},a=t.elements[e];!ro(a)||!no(a)||(Object.assign(a.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],a=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});!ro(o)||!no(o)||(Object.assign(o.style,r),Object.keys(a).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};function so(e){return e.split("-")[0]}var uo=Math.max,co=Math.min,po=Math.round;function fo(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,a=1;if(ro(e)&&t){var r=e.offsetHeight,l=e.offsetWidth;l>0&&(o=po(n.width)/l||1),r>0&&(a=po(n.height)/r||1)}return{width:n.width/o,height:n.height/a,top:n.top/a,right:n.right/o,bottom:n.bottom/a,left:n.left/o,x:n.left/o,y:n.top/a}}function vo(e){var t=fo(e),n=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:o}}function mo(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&lo(n)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function ho(e){return oo(e).getComputedStyle(e)}function go(e){return["table","td","th"].indexOf(no(e))>=0}function yo(e){return((ao(e)?e.ownerDocument:e.document)||window.document).documentElement}function bo(e){return"html"===no(e)?e:e.assignedSlot||e.parentNode||(lo(e)?e.host:null)||yo(e)}function wo(e){return ro(e)&&"fixed"!==ho(e).position?e.offsetParent:null}function xo(e){for(var t=oo(e),n=wo(e);n&&go(n)&&"static"===ho(n).position;)n=wo(n);return n&&("html"===no(n)||"body"===no(n)&&"static"===ho(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&ro(e)&&"fixed"===ho(e).position)return null;var n=bo(e);for(lo(n)&&(n=n.host);ro(n)&&["html","body"].indexOf(no(n))<0;){var o=ho(n);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return n;n=n.parentNode}return null}(e)||t}function Ao(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function So(e,t,n){return uo(e,co(t,n))}function Eo(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Oo(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var To={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,o=e.name,a=e.options,r=n.elements.arrow,l=n.modifiersData.popperOffsets,i=so(n.placement),s=Ao(i),u=[Vn,qn].indexOf(i)>=0?"height":"width";if(r&&l){var c=function(e,t){return Eo("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Oo(e,Un))}(a.padding,n),d=vo(r),p="y"===s?Fn:Vn,f="y"===s?Kn:qn,v=n.rects.reference[u]+n.rects.reference[s]-l[s]-n.rects.popper[u],m=l[s]-n.rects.reference[s],h=xo(r),g=h?"y"===s?h.clientHeight||0:h.clientWidth||0:0,y=v/2-m/2,b=c[p],w=g-d[u]-c[f],x=g/2-d[u]/2+y,A=So(b,x,w),S=s;n.modifiersData[o]=((t={})[S]=A,t.centerOffset=A-x,t)}},effect:function(e){var t=e.state,n=e.options.element,o=void 0===n?"[data-popper-arrow]":n;null!=o&&("string"==typeof o&&!(o=t.elements.popper.querySelector(o))||!mo(t.elements.popper,o)||(t.elements.arrow=o))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ko(e){return e.split("-")[1]}var Co={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lo(e){var t,n=e.popper,o=e.popperRect,a=e.placement,r=e.variation,l=e.offsets,i=e.position,s=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=l.x,f=void 0===p?0:p,v=l.y,m=void 0===v?0:v,h="function"==typeof c?c({x:f,y:m}):{x:f,y:m};f=h.x,m=h.y;var g=l.hasOwnProperty("x"),y=l.hasOwnProperty("y"),b=Vn,w=Fn,x=window;if(u){var A=xo(n),S="clientHeight",E="clientWidth";if(A===oo(n)&&("static"!==ho(A=yo(n)).position&&"absolute"===i&&(S="scrollHeight",E="scrollWidth")),a===Fn||(a===Vn||a===qn)&&r===Jn)w=Kn,m-=(d&&A===x&&x.visualViewport?x.visualViewport.height:A[S])-o.height,m*=s?1:-1;if(a===Vn||(a===Fn||a===Kn)&&r===Jn)b=qn,f-=(d&&A===x&&x.visualViewport?x.visualViewport.width:A[E])-o.width,f*=s?1:-1}var O,T=Object.assign({position:i},u&&Co),k=!0===c?function(e){var t=e.x,n=e.y,o=window.devicePixelRatio||1;return{x:po(t*o)/o||0,y:po(n*o)/o||0}}({x:f,y:m}):{x:f,y:m};return f=k.x,m=k.y,s?Object.assign({},T,((O={})[w]=y?"0":"",O[b]=g?"0":"",O.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",O)):Object.assign({},T,((t={})[w]=y?m+"px":"",t[b]=g?f+"px":"",t.transform="",t))}var Io={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,o=n.gpuAcceleration,a=void 0===o||o,r=n.adaptive,l=void 0===r||r,i=n.roundOffsets,s=void 0===i||i,u={placement:so(t.placement),variation:ko(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Lo(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Lo(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},_o={passive:!0};var Po={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,o=e.options,a=o.scroll,r=void 0===a||a,l=o.resize,i=void 0===l||l,s=oo(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&u.forEach((function(e){e.addEventListener("scroll",n.update,_o)})),i&&s.addEventListener("resize",n.update,_o),function(){r&&u.forEach((function(e){e.removeEventListener("scroll",n.update,_o)})),i&&s.removeEventListener("resize",n.update,_o)}},data:{}},Mo={left:"right",right:"left",bottom:"top",top:"bottom"};function Ro(e){return e.replace(/left|right|bottom|top/g,(function(e){return Mo[e]}))}var Bo={start:"end",end:"start"};function zo(e){return e.replace(/start|end/g,(function(e){return Bo[e]}))}function $o(e){var t=oo(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function No(e){return fo(yo(e)).left+$o(e).scrollLeft}function jo(e){var t=ho(e),n=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+o)}function Do(e){return["html","body","#document"].indexOf(no(e))>=0?e.ownerDocument.body:ro(e)&&jo(e)?e:Do(bo(e))}function Ho(e,t){var n;void 0===t&&(t=[]);var o=Do(e),a=o===(null==(n=e.ownerDocument)?void 0:n.body),r=oo(o),l=a?[r].concat(r.visualViewport||[],jo(o)?o:[]):o,i=t.concat(l);return a?i:i.concat(Ho(bo(l)))}function Wo(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fo(e,t){return t===Zn?Wo(function(e){var t=oo(e),n=yo(e),o=t.visualViewport,a=n.clientWidth,r=n.clientHeight,l=0,i=0;return o&&(a=o.width,r=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(l=o.offsetLeft,i=o.offsetTop)),{width:a,height:r,x:l+No(e),y:i}}(e)):ao(t)?function(e){var t=fo(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Wo(function(e){var t,n=yo(e),o=$o(e),a=null==(t=e.ownerDocument)?void 0:t.body,r=uo(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),l=uo(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),i=-o.scrollLeft+No(e),s=-o.scrollTop;return"rtl"===ho(a||n).direction&&(i+=uo(n.clientWidth,a?a.clientWidth:0)-r),{width:r,height:l,x:i,y:s}}(yo(e)))}function Ko(e,t,n){var o="clippingParents"===t?function(e){var t=Ho(bo(e)),n=["absolute","fixed"].indexOf(ho(e).position)>=0&&ro(e)?xo(e):e;return ao(n)?t.filter((function(e){return ao(e)&&mo(e,n)&&"body"!==no(e)})):[]}(e):[].concat(t),a=[].concat(o,[n]),r=a[0],l=a.reduce((function(t,n){var o=Fo(e,n);return t.top=uo(o.top,t.top),t.right=co(o.right,t.right),t.bottom=co(o.bottom,t.bottom),t.left=uo(o.left,t.left),t}),Fo(e,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function qo(e){var t,n=e.reference,o=e.element,a=e.placement,r=a?so(a):null,l=a?ko(a):null,i=n.x+n.width/2-o.width/2,s=n.y+n.height/2-o.height/2;switch(r){case Fn:t={x:i,y:n.y-o.height};break;case Kn:t={x:i,y:n.y+n.height};break;case qn:t={x:n.x+n.width,y:s};break;case Vn:t={x:n.x-o.width,y:s};break;default:t={x:n.x,y:n.y}}var u=r?Ao(r):null;if(null!=u){var c="y"===u?"height":"width";switch(l){case Gn:t[u]=t[u]-(n[c]/2-o[c]/2);break;case Jn:t[u]=t[u]+(n[c]/2-o[c]/2)}}return t}function Vo(e,t){void 0===t&&(t={});var n=t,o=n.placement,a=void 0===o?e.placement:o,r=n.boundary,l=void 0===r?"clippingParents":r,i=n.rootBoundary,s=void 0===i?Zn:i,u=n.elementContext,c=void 0===u?Xn:u,d=n.altBoundary,p=void 0!==d&&d,f=n.padding,v=void 0===f?0:f,m=Eo("number"!=typeof v?v:Oo(v,Un)),h=c===Xn?"reference":Xn,g=e.rects.popper,y=e.elements[p?h:c],b=Ko(ao(y)?y:y.contextElement||yo(e.elements.popper),l,s),w=fo(e.elements.reference),x=qo({reference:w,element:g,strategy:"absolute",placement:a}),A=Wo(Object.assign({},g,x)),S=c===Xn?A:w,E={top:b.top-S.top+m.top,bottom:S.bottom-b.bottom+m.bottom,left:b.left-S.left+m.left,right:S.right-b.right+m.right},O=e.modifiersData.offset;if(c===Xn&&O){var T=O[a];Object.keys(E).forEach((function(e){var t=[qn,Kn].indexOf(e)>=0?1:-1,n=[Fn,Kn].indexOf(e)>=0?"y":"x";E[e]+=T[n]*t}))}return E}var Qo={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var a=n.mainAxis,r=void 0===a||a,l=n.altAxis,i=void 0===l||l,s=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,v=void 0===f||f,m=n.allowedAutoPlacements,h=t.options.placement,g=so(h),y=s||(g===h||!v?[Ro(h)]:function(e){if(so(e)===Qn)return[];var t=Ro(e);return[zo(e),t,zo(t)]}(h)),b=[h].concat(y).reduce((function(e,n){return e.concat(so(n)===Qn?function(e,t){void 0===t&&(t={});var n=t,o=n.placement,a=n.boundary,r=n.rootBoundary,l=n.padding,i=n.flipVariations,s=n.allowedAutoPlacements,u=void 0===s?eo:s,c=ko(o),d=c?i?Yn:Yn.filter((function(e){return ko(e)===c})):Un,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,n){return t[n]=Vo(e,{placement:n,boundary:a,rootBoundary:r,padding:l})[so(n)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:v,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,A=new Map,S=!0,E=b[0],O=0;O<b.length;O++){var T=b[O],k=so(T),C=ko(T)===Gn,L=[Fn,Kn].indexOf(k)>=0,I=L?"width":"height",_=Vo(t,{placement:T,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),P=L?C?qn:Vn:C?Kn:Fn;w[I]>x[I]&&(P=Ro(P));var M=Ro(P),R=[];if(r&&R.push(_[k]<=0),i&&R.push(_[P]<=0,_[M]<=0),R.every((function(e){return e}))){E=T,S=!1;break}A.set(T,R)}if(S)for(var B=function(e){var t=b.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},z=v?3:1;z>0;z--){if("break"===B(z))break}t.placement!==E&&(t.modifiersData[o]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Uo(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Go(e){return[Fn,qn,Kn,Vn].some((function(t){return e[t]>=0}))}var Jo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,o=t.rects.reference,a=t.rects.popper,r=t.modifiersData.preventOverflow,l=Vo(t,{elementContext:"reference"}),i=Vo(t,{altBoundary:!0}),s=Uo(l,o),u=Uo(i,a,r),c=Go(s),d=Go(u);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}};var Zo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,o=e.name,a=n.offset,r=void 0===a?[0,0]:a,l=eo.reduce((function(e,n){return e[n]=function(e,t,n){var o=so(e),a=[Vn,Fn].indexOf(o)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,l=r[0],i=r[1];return l=l||0,i=(i||0)*a,[Vn,qn].indexOf(o)>=0?{x:i,y:l}:{x:l,y:i}}(n,t.rects,r),e}),{}),i=l[t.placement],s=i.x,u=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=u),t.modifiersData[o]=l}};var Xo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=qo({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var Yo={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,o=e.name,a=n.mainAxis,r=void 0===a||a,l=n.altAxis,i=void 0!==l&&l,s=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,v=n.tetherOffset,m=void 0===v?0:v,h=Vo(t,{boundary:s,rootBoundary:u,padding:d,altBoundary:c}),g=so(t.placement),y=ko(t.placement),b=!y,w=Ao(g),x=function(e){return"x"===e?"y":"x"}(w),A=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,O="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(A){if(r){var L,I="y"===w?Fn:Vn,_="y"===w?Kn:qn,P="y"===w?"height":"width",M=A[w],R=M+h[I],B=M-h[_],z=f?-E[P]/2:0,$=y===Gn?S[P]:E[P],N=y===Gn?-E[P]:-S[P],j=t.elements.arrow,D=f&&j?vo(j):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=H[I],F=H[_],K=So(0,S[P],D[P]),q=b?S[P]/2-z-K-W-T.mainAxis:$-K-W-T.mainAxis,V=b?-S[P]/2+z+K+F+T.mainAxis:N+K+F+T.mainAxis,Q=t.elements.arrow&&xo(t.elements.arrow),U=Q?"y"===w?Q.clientTop||0:Q.clientLeft||0:0,G=null!=(L=null==k?void 0:k[w])?L:0,J=M+V-G,Z=So(f?co(R,M+q-G-U):R,M,f?uo(B,J):B);A[w]=Z,C[w]=Z-M}if(i){var X,Y="x"===w?Fn:Vn,ee="x"===w?Kn:qn,te=A[x],ne="y"===x?"height":"width",oe=te+h[Y],ae=te-h[ee],re=-1!==[Fn,Vn].indexOf(g),le=null!=(X=null==k?void 0:k[x])?X:0,ie=re?oe:te-S[ne]-E[ne]-le+T.altAxis,se=re?te+S[ne]+E[ne]-le-T.altAxis:ae,ue=f&&re?function(e,t,n){var o=So(e,t,n);return o>n?n:o}(ie,te,se):So(f?ie:oe,te,f?se:ae);A[x]=ue,C[x]=ue-te}t.modifiersData[o]=C}},requiresIfExists:["offset"]};function ea(e,t,n){void 0===n&&(n=!1);var o=ro(t),a=ro(t)&&function(e){var t=e.getBoundingClientRect(),n=po(t.width)/e.offsetWidth||1,o=po(t.height)/e.offsetHeight||1;return 1!==n||1!==o}(t),r=yo(t),l=fo(e,a),i={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(o||!o&&!n)&&(("body"!==no(t)||jo(r))&&(i=function(e){return e!==oo(e)&&ro(e)?function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):$o(e)}(t)),ro(t)?((s=fo(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=No(r))),{x:l.left+i.scrollLeft-s.x,y:l.top+i.scrollTop-s.y,width:l.width,height:l.height}}function ta(e){var t=new Map,n=new Set,o=[];function a(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var o=t.get(e);o&&a(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||a(e)})),o}function na(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var oa={placement:"bottom",modifiers:[],strategy:"absolute"};function aa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ra(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,o=void 0===n?[]:n,a=t.defaultOptions,r=void 0===a?oa:a;return function(e,t,n){void 0===n&&(n=r);var a={placement:"bottom",orderedModifiers:[],options:Object.assign({},oa,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],i=!1,s={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;u(),a.options=Object.assign({},r,a.options,i),a.scrollParents={reference:ao(e)?Ho(e):e.contextElement?Ho(e.contextElement):[],popper:Ho(t)};var c=function(e){var t=ta(e);return to.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(o,a.options.modifiers)));return a.orderedModifiers=c.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,o=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var i=r({state:a,name:t,instance:s,options:o}),u=function(){};l.push(i||u)}})),s.update()},forceUpdate:function(){if(!i){var e=a.elements,t=e.reference,n=e.popper;if(aa(t,n)){a.rects={reference:ea(t,xo(n),"fixed"===a.options.strategy),popper:vo(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<a.orderedModifiers.length;o++)if(!0!==a.reset){var r=a.orderedModifiers[o],l=r.fn,u=r.options,c=void 0===u?{}:u,d=r.name;"function"==typeof l&&(a=l({state:a,options:c,name:d,instance:s})||a)}else a.reset=!1,o=-1}}},update:na((function(){return new Promise((function(e){s.forceUpdate(),e(a)}))})),destroy:function(){u(),i=!0}};if(!aa(e,t))return s;function u(){l.forEach((function(e){return e()})),l=[]}return s.setOptions(n).then((function(e){!i&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}ra(),ra({defaultModifiers:[Po,Xo,Io,io]});var la=ra({defaultModifiers:[Po,Xo,Io,io,Zo,Qo,Yo,To,Jo]});const ia=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0||e===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},sa=(e,t)=>{for(const n of e)if(!ua(n,t))return n},ua=(e,t)=>{if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},ca=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(e=>e instanceof HTMLInputElement&&"select"in e)(e)&&t&&e.select()}};function da(e,t){const n=[...e],o=e.indexOf(t);return-1!==o&&n.splice(o,1),n}const pa=(()=>{let e=[];return{push:t=>{const n=e[0];n&&t!==n&&n.pause(),e=da(e,t),e.unshift(t)},remove:t=>{var n,o;e=da(e,t),null==(o=null==(n=e[0])?void 0:n.resume)||o.call(n)}}})(),fa={cancelable:!0,bubbles:!1},va=Symbol("elFocusTrap");var ma=En(E({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:["focusAfterTrapped","focusAfterReleased","focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const a=o();let l,c;var d;d=n=>{e.trapped&&!p.paused&&t("release-requested",n)},i((()=>{0===vn.length&&document.addEventListener("keydown",mn),Ke&&vn.push(d)})),x((()=>{vn=vn.filter((e=>e!==d)),0===vn.length&&Ke&&document.removeEventListener("keydown",mn)}));const p={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},f=n=>{if(!e.loop&&!e.trapped)return;if(p.paused)return;const{key:o,altKey:a,ctrlKey:r,metaKey:l,currentTarget:i,shiftKey:s}=n,{loop:u}=e,c=o===qt&&!a&&!r&&!l,d=document.activeElement;if(c&&d){const e=i,[o,a]=(e=>{const t=ia(e);return[sa(t,e),sa(t.reverse(),e)]})(e);o&&a?s||d!==a?s&&[o,e].includes(d)&&(n.preventDefault(),u&&ca(a,!0),t("focusout-prevented")):(n.preventDefault(),u&&ca(o,!0),t("focusout-prevented")):d===e&&(n.preventDefault(),t("focusout-prevented"))}};S(va,{focusTrapRef:a,onKeydown:f}),r((()=>e.focusTrapEl),(e=>{e&&(a.value=e)}),{immediate:!0}),r([a],(([e],[t])=>{e&&(e.addEventListener("keydown",f),e.addEventListener("focusin",h),e.addEventListener("focusout",g)),t&&(t.removeEventListener("keydown",f),t.removeEventListener("focusin",h),t.removeEventListener("focusout",g))}));const v=e=>{t("focusAfterTrapped",e)},m=e=>t("focusAfterReleased",e),h=o=>{const r=n(a);if(!r)return;const l=o.target,i=l&&r.contains(l);i&&t("focusin",o),p.paused||e.trapped&&(i?c=l:ca(c,!0))},g=o=>{const r=n(a);if(!p.paused&&r)if(e.trapped){const t=o.relatedTarget;De(t)||r.contains(t)||setTimeout((()=>{!p.paused&&e.trapped&&ca(c,!0)}),0)}else{const e=o.target;e&&r.contains(e)||t("focusout",o)}};async function y(){await s();const t=n(a);if(t){pa.push(p);const n=document.activeElement;l=n;if(!t.contains(n)){const o=new Event("focus-trap.focus-after-trapped",fa);t.addEventListener("focus-trap.focus-after-trapped",v),t.dispatchEvent(o),o.defaultPrevented||s((()=>{let o=e.focusStartEl;u(o)||(ca(o),document.activeElement!==o&&(o="first")),"first"===o&&((e,t=!1)=>{const n=document.activeElement;for(const o of e)if(ca(o,t),document.activeElement!==n)return})(ia(t),!0),document.activeElement!==n&&"container"!==o||ca(t)}))}}}function b(){const e=n(a);if(e){e.removeEventListener("focus-trap.focus-after-trapped",v);const t=new Event("focus-trap.focus-after-released",fa);e.addEventListener("focus-trap.focus-after-released",m),e.dispatchEvent(t),t.defaultPrevented||ca(null!=l?l:document.body,!0),e.removeEventListener("focus-trap.focus-after-released",v),pa.remove(p)}}return i((()=>{e.trapped&&y(),r((()=>e.trapped),(e=>{e?y():b()}))})),x((()=>{e.trapped&&b()})),{onKeydown:f}}}),[["render",function(e,t,n,o,a,r){return O(e.$slots,"default",{handleKeydown:e.onKeydown})}],["__file","/home/runner/work/element-plus/element-plus/packages/components/focus-trap/src/focus-trap.vue"]]);const ha=Ht({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Array,default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:eo,default:"bottom"},popperOptions:{type:Object,default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}}),ga=Ht({...ha,id:String,style:{type:[String,Array,Object]},className:{type:[String,Array,Object]},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:[String,Array,Object]},popperStyle:{type:[String,Array,Object]},referenceEl:{type:Object},triggerTargetEl:{type:Object},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),ya=(e,t)=>{const{placement:n,strategy:o,popperOptions:a}=e,r={placement:n,strategy:o,...a,modifiers:ba(e)};return function(e,{arrowEl:t,arrowOffset:n}){e.modifiers.push({name:"arrow",options:{element:t,padding:null!=n?n:5}})}(r,t),function(e,t){t&&(e.modifiers=[...e.modifiers,...null!=t?t:[]])}(r,null==a?void 0:a.modifiers),r};function ba(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:o}=e;return[{name:"offset",options:{offset:[0,null!=t?t:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:n,adaptive:n}}]}var wa=En(E({name:"ElPopperContent",props:ga,emits:["mouseenter","mouseleave","focus","blur","close"],setup(e,{expose:t,emit:a}){const l=e,{popperInstanceRef:s,contentRef:u,triggerRef:p,role:f}=g(en,void 0),v=g(Yt,void 0),{nextZIndex:m}=(()=>{const e=an("zIndex",2e3),t=h((()=>e.value+Sn.value));return{initialZIndex:e,currentZIndex:t,nextZIndex:()=>(Sn.value++,t.value)}})(),y=sn("popper"),b=o(),w=o("first"),A=o(),E=o();S(tn,{arrowRef:A,arrowOffset:E}),v&&(v.addInputId||v.removeInputId)&&S(Yt,{...v,addInputId:H,removeInputId:H});const T=o(l.zIndex||m()),k=o(!1);let C;const L=h((()=>(e=>{if(Ke)return Xe(e)})(l.referenceEl)||n(p))),I=h((()=>[{zIndex:n(T)},l.popperStyle])),_=h((()=>[y.b(),y.is("pure",l.pure),y.is(l.effect),l.popperClass])),P=h((()=>f&&"dialog"===f.value?"false":void 0)),M=(e=!0)=>{var t;null==(t=n(s))||t.update(),e&&(T.value=l.zIndex||m())},R=()=>{var e,t;const o={name:"eventListeners",enabled:l.visible};null==(t=null==(e=n(s))?void 0:e.setOptions)||t.call(e,(e=>({...e,modifiers:[...e.modifiers||[],o]}))),M(!1),l.visible&&l.focusOnShow?k.value=!0:!1===l.visible&&(k.value=!1)},z=()=>{a("focus")},N=()=>{w.value="first",a("blur")},D=e=>{var t;l.visible&&!k.value&&(e.target&&(w.value=e.target),k.value=!0,e.relatedTarget&&(null==(t=e.relatedTarget)||t.focus()))},W=()=>{l.trapping||(k.value=!1)},K=()=>{k.value=!1,a("close")};return i((()=>{let e;r(L,(t=>{var o;null==e||e();const a=n(s);if(null==(o=null==a?void 0:a.destroy)||o.call(a),t){const o=n(b);u.value=o,s.value=(({referenceEl:e,popperContentEl:t,arrowEl:o})=>{const a=ya(l,{arrowEl:o,arrowOffset:n(E)});return la(e,t,a)})({referenceEl:t,popperContentEl:o,arrowEl:n(A)}),e=r((()=>t.getBoundingClientRect()),(()=>M()),{immediate:!0})}else s.value=void 0}),{immediate:!0}),r((()=>l.triggerTargetEl),((e,t)=>{null==C||C(),C=void 0;const o=n(e||b.value),a=n(t||b.value);if(gt(o)){const{ariaLabel:e,id:t}=Q(l);C=r([f,e,P,t],(e=>{["role","aria-label","aria-modal","id"].forEach(((t,n)=>{De(e[n])?o.removeAttribute(t):o.setAttribute(t,e[n])}))}),{immediate:!0})}a!==o&&gt(a)&&["role","aria-label","aria-modal","id"].forEach((e=>{a.removeAttribute(e)}))}),{immediate:!0}),r((()=>l.visible),R,{immediate:!0}),r((()=>ya(l,{arrowEl:n(A),arrowOffset:n(E)})),(e=>{var t;return null==(t=s.value)?void 0:t.setOptions(e)}))})),x((()=>{null==C||C(),C=void 0})),t({popperContentRef:b,popperInstanceRef:s,updatePopper:M,contentStyle:I}),(e,t)=>(c(),d("div",{ref_key:"popperContentRef",ref:b,style:F(n(I)),class:B(n(_)),tabindex:"-1",onMouseenter:t[0]||(t[0]=t=>e.$emit("mouseenter",t)),onMouseleave:t[1]||(t[1]=t=>e.$emit("mouseleave",t))},[j(n(ma),{trapped:k.value,"trap-on-focus-in":!0,"focus-trap-el":b.value,"focus-start-el":w.value,onFocusAfterTrapped:z,onFocusAfterReleased:N,onFocusin:D,onFocusoutPrevented:W,onReleaseRequested:K},{default:$((()=>[O(e.$slots,"default")])),_:3},8,["trapped","focus-trap-el","focus-start-el"])],38))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/popper/src/content.vue"]]);const xa=Kt(Bn),Aa=sn("tooltip"),Sa=Ht({...wn,...ga,appendTo:{type:[String,Object],default:yn},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:Boolean,default:null},transition:{type:String,default:`${Aa.namespace.value}-fade-in-linear`},teleported:{type:Boolean,default:!0},disabled:{type:Boolean}}),Ea=Ht({...Hn,disabled:Boolean,trigger:{type:[String,Array],default:"hover"},triggerKeys:{type:Array,default:()=>[Vt,Qt]}}),Oa=Ht({openDelay:{type:Number},visibleArrow:{type:Boolean,default:void 0},hideAfter:{type:Number,default:200},showArrow:{type:Boolean,default:!0}}),Ta=Symbol("elTooltip");var ka=En(E({name:"ElTooltipContent",components:{ElPopperContent:wa},inheritAttrs:!1,props:Sa,setup(e){const t=o(null),a=o(!1),l=o(!1),i=o(!1),s=o(!1),{controlled:u,id:c,open:d,trigger:p,onClose:f,onOpen:v,onShow:m,onHide:y,onBeforeShow:b,onBeforeHide:w}=g(Ta,void 0),A=h((()=>e.persistent));x((()=>{s.value=!0}));const S=h((()=>!!n(A)||n(d))),E=h((()=>!e.disabled&&n(d))),O=h((()=>{var t;return null!=(t=e.style)?t:{}})),T=h((()=>!n(d))),k=()=>{if(n(u))return!0},C=We(k,(()=>{e.enterable&&"hover"===n(p)&&v()})),L=We(k,(()=>{"hover"===n(p)&&f()}));let I;return r((()=>n(d)),(e=>{e||null==I||I()}),{flush:"post"}),{ariaHidden:T,entering:l,leaving:i,id:c,intermediateOpen:a,contentStyle:O,contentRef:t,destroyed:s,shouldRender:S,shouldShow:E,onClose:f,open:d,onAfterShow:()=>{m(),I=tt(h((()=>{var e;return null==(e=t.value)?void 0:e.popperContentRef})),(()=>{if(n(u))return;"hover"!==n(p)&&f()}))},onBeforeEnter:()=>{var e,n;null==(n=null==(e=t.value)?void 0:e.updatePopper)||n.call(e),null==b||b()},onBeforeLeave:()=>{null==w||w()},onContentEnter:C,onContentLeave:L,onTransitionLeave:()=>{y()},onBlur:()=>{e.virtualTriggering||f()}}}}),[["render",function(e,t,n,o,a,r){const l=U("el-popper-content");return c(),z(J,{disabled:!e.teleported,to:e.appendTo},[j(G,{name:e.transition,onAfterLeave:e.onTransitionLeave,onBeforeEnter:e.onBeforeEnter,onAfterEnter:e.onAfterShow,onBeforeLeave:e.onBeforeLeave},{default:$((()=>[e.shouldRender?_((c(),z(l,T({key:0,id:e.id,ref:"contentRef"},e.$attrs,{"aria-label":e.ariaLabel,"aria-hidden":e.ariaHidden,"boundaries-padding":e.boundariesPadding,"fallback-placements":e.fallbackPlacements,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,placement:e.placement,"popper-options":e.popperOptions,strategy:e.strategy,effect:e.effect,enterable:e.enterable,pure:e.pure,"popper-class":e.popperClass,"popper-style":[e.popperStyle,e.contentStyle],"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,visible:e.shouldShow,"z-index":e.zIndex,onMouseenter:e.onContentEnter,onMouseleave:e.onContentLeave,onBlur:e.onBlur,onClose:e.onClose}),{default:$((()=>[M(" Workaround bug #6378 "),e.destroyed?M("v-if",!0):O(e.$slots,"default",{key:0})])),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onBlur","onClose"])),[[P,e.shouldShow]]):M("v-if",!0)])),_:3},8,["name","onAfterLeave","onBeforeEnter","onAfterEnter","onBeforeLeave"])],8,["disabled","to"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/content.vue"]]);const Ca=(e,t,o)=>a=>{((e,t)=>Z(e)?e.includes(t):e===t)(n(e),t)&&o(a)};var La=En(E({name:"ElTooltipTrigger",components:{ElPopperTrigger:Wn},props:Ea,setup(e){const t=sn("tooltip"),{controlled:a,id:r,open:l,onOpen:i,onClose:s,onToggle:u}=g(Ta,void 0),c=o(null),d=()=>{if(n(a)||e.disabled)return!0},p=y(e,"trigger"),f=We(d,Ca(p,"hover",i)),v=We(d,Ca(p,"hover",s)),m=We(d,Ca(p,"click",(e=>{0===e.button&&u(e)}))),h=We(d,Ca(p,"focus",i));return{onBlur:We(d,Ca(p,"focus",s)),onContextMenu:We(d,Ca(p,"contextmenu",(e=>{e.preventDefault(),u(e)}))),onFocus:h,onMouseenter:f,onMouseleave:v,onClick:m,onKeydown:We(d,(t=>{const{code:n}=t;e.triggerKeys.includes(n)&&(t.preventDefault(),u(t))})),open:l,id:r,triggerRef:c,ns:t}}}),[["render",function(e,t,n,o,a,r){const l=U("el-popper-trigger");return c(),z(l,{id:e.id,"virtual-ref":e.virtualRef,open:e.open,"virtual-triggering":e.virtualTriggering,class:B(e.ns.e("trigger")),onBlur:e.onBlur,onClick:e.onClick,onContextmenu:e.onContextMenu,onFocus:e.onFocus,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onKeydown:e.onKeydown},{default:$((()=>[O(e.$slots,"default")])),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/trigger.vue"]]);const{useModelToggleProps:Ia,useModelToggle:_a,useModelToggleEmits:Pa}=(e=>{const t=`update:${e}`,n=`onUpdate:${e}`;return{useModelToggle:({indicator:o,toggleReason:a,shouldHideWhenRouteChanges:s,shouldProceed:u,onShow:c,onHide:d})=>{const p=l(),{emit:f}=p,v=p.props,m=h((()=>w(v[n]))),g=h((()=>null===v[e])),y=e=>{!0!==o.value&&(o.value=!0,a&&(a.value=e),w(c)&&c(e))},b=e=>{!1!==o.value&&(o.value=!1,a&&(a.value=e),w(d)&&d(e))},x=e=>{if(!0===v.disabled||w(u)&&!u())return;const n=m.value&&Ke;n&&f(t,!0),!g.value&&n||y(e)},A=e=>{if(!0===v.disabled||!Ke)return;const n=m.value&&Ke;n&&f(t,!1),!g.value&&n||b(e)},S=e=>{qe(e)&&(v.disabled&&e?m.value&&f(t,!1):o.value!==e&&(e?y():b()))};return r((()=>v[e]),S),s&&void 0!==p.appContext.config.globalProperties.$route&&r((()=>({...p.proxy.$route})),(()=>{s.value&&o.value&&A()})),i((()=>{S(v[e])})),{hide:A,show:x,toggle:()=>{o.value?A():x()},hasUpdateHandler:m}},useModelToggleProps:{[e]:pn,[n]:fn},useModelToggleEmits:[t]}})("visible"),Ma=E({name:"ElTooltip",components:{ElPopper:xa,ElPopperArrow:$n,ElTooltipContent:ka,ElTooltipTrigger:La},props:{...Rn,...Ia,...Sa,...Ea,...zn,...Oa},emits:[...Pa,"before-show","before-hide","show","hide","open","close"],setup(e,{emit:t}){bn();const a=h((()=>(ht(e.openDelay),e.openDelay||e.showAfter))),l=h((()=>(ht(e.visibleArrow),qe(e.visibleArrow)?e.visibleArrow:e.showArrow))),i=dn(),s=o(null),u=o(null),c=()=>{var e;const t=n(s);t&&(null==(e=t.popperInstanceRef)||e.update())},d=o(!1),p=o(void 0),{show:f,hide:v,hasUpdateHandler:m}=_a({indicator:d,toggleReason:p}),{onOpen:g,onClose:b}=xn({showAfter:a,hideAfter:y(e,"hideAfter"),open:f,close:v}),w=h((()=>qe(e.visible)&&!m.value));S(Ta,{controlled:w,id:i,open:X(d),trigger:y(e,"trigger"),onOpen:e=>{g(e)},onClose:e=>{b(e)},onToggle:e=>{n(d)?b(e):g(e)},onShow:()=>{t("show",p.value)},onHide:()=>{t("hide",p.value)},onBeforeShow:()=>{t("before-show",p.value)},onBeforeHide:()=>{t("before-hide",p.value)},updatePopper:c}),r((()=>e.disabled),(e=>{e&&d.value&&(d.value=!1)}));return Y((()=>d.value&&v())),{compatShowAfter:a,compatShowArrow:l,popperRef:s,contentRef:u,open:d,hide:v,isFocusInsideContent:()=>{var e,t;const n=null==(t=null==(e=u.value)?void 0:e.contentRef)?void 0:t.popperContentRef;return n&&n.contains(document.activeElement)},updatePopper:c,onOpen:g,onClose:b}}}),Ra=["innerHTML"],Ba={key:1};const za=Kt(En(Ma,[["render",function(e,t,n,o,a,r){const l=U("el-tooltip-trigger"),i=U("el-popper-arrow"),s=U("el-tooltip-content"),u=U("el-popper");return c(),z(u,{ref:"popperRef",role:e.role},{default:$((()=>[j(l,{disabled:e.disabled,trigger:e.trigger,"trigger-keys":e.triggerKeys,"virtual-ref":e.virtualRef,"virtual-triggering":e.virtualTriggering},{default:$((()=>[e.$slots.default?O(e.$slots,"default",{key:0}):M("v-if",!0)])),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),j(s,{ref:"contentRef","aria-label":e.ariaLabel,"boundaries-padding":e.boundariesPadding,content:e.content,disabled:e.disabled,effect:e.effect,enterable:e.enterable,"fallback-placements":e.fallbackPlacements,"hide-after":e.hideAfter,"gpu-acceleration":e.gpuAcceleration,offset:e.offset,persistent:e.persistent,"popper-class":e.popperClass,"popper-style":e.popperStyle,placement:e.placement,"popper-options":e.popperOptions,pure:e.pure,"raw-content":e.rawContent,"reference-el":e.referenceEl,"trigger-target-el":e.triggerTargetEl,"show-after":e.compatShowAfter,strategy:e.strategy,teleported:e.teleported,transition:e.transition,"virtual-triggering":e.virtualTriggering,"z-index":e.zIndex,"append-to":e.appendTo},{default:$((()=>[O(e.$slots,"content",{},(()=>[e.rawContent?(c(),d("span",{key:0,innerHTML:e.content},null,8,Ra)):(c(),d("span",Ba,W(e.content),1))])),e.compatShowArrow?(c(),z(i,{key:0,"arrow-offset":e.arrowOffset},null,8,["arrow-offset"])):M("v-if",!0)])),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),_:3},8,["role"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip/src/tooltip.vue"]])),$a={[Ge](e,t){const n=!t.modifiers.bubble;if("function"==typeof t.value)e.__onClickOutside_stop=tt(e,t.value,{capture:n});else{const[o,a]=t.value;e.__onClickOutside_stop=tt(e,o,Object.assign({capture:n},a))}},[Je](e){e.__onClickOutside_stop()}};var Na=Object.defineProperty,ja=Object.defineProperties,Da=Object.getOwnPropertyDescriptors,Ha=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Fa=Object.prototype.propertyIsEnumerable,Ka=(e,t,n)=>t in e?Na(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qa=(e,t)=>{for(var n in t||(t={}))Wa.call(t,n)&&Ka(e,n,t[n]);if(Ha)for(var n of Ha(t))Fa.call(t,n)&&Ka(e,n,t[n]);return e},Va=(e,t)=>ja(e,Da(t));const Qa=["onPointerdown"];const Ua=E(Va(qa({},{name:"ScrollbarThumb"}),{props:{type:null,autoExpand:null,autoHide:null,autoHideDelay:null,fixedThumb:null,scrollInfo:null,thumbWidth:null,wrapperEl:null},setup:function(e,{expose:t}){const o=e;ee((e=>({"1fb98f78":n(a)})));const a=h((()=>{var e;return`${null!=(e=o.thumbWidth)?e:12}px`}));let l=null,i=L(null);const s={pageX:0,pageY:0,scrollPos:0};let u=null;const f=()=>{l=setTimeout((()=>{i.value&&i.value.classList.remove("scrollbar__thumbPlaceholder--scrolling"),l=null}),o.autoHideDelay)},v=()=>{null!==l&&clearTimeout(l)};b(v);const m=He((e=>{e.stopPropagation(),e.preventDefault();const t="horizontal"===o.type?"pageX":"pageY",n=(e[t]-s[t])/o.scrollInfo.wrapperMainSize*o.scrollInfo.contentMainSize;o.wrapperEl.scrollTo({["horizontal"===o.type?"left":"top"]:s.scrollPos+n,behavior:"auto"})}),16),g=()=>{f(),i.value.removeEventListener("pointermove",m),i.value.removeEventListener("pointerup",g),i.value.removeEventListener("pointercancel",g),i.value.removeEventListener("mousewheel",g),document.removeEventListener("mousewheel",g),"number"==typeof u&&i.value.releasePointerCapture(u),u=null},y=e=>{e.ctrlKey||0!==e.button||(v(),s.pageX=e.pageX,s.pageY=e.pageY,s.scrollPos=o.wrapperEl["horizontal"===o.type?"scrollLeft":"scrollTop"],u=null==e?void 0:e.pointerId,i.value.setPointerCapture(u),i.value.addEventListener("pointermove",m),i.value.addEventListener("pointerup",g),i.value.addEventListener("pointercancel",g),i.value.addEventListener("mousewheel",g,{passive:!1}),document.addEventListener("mousewheel",g,{passive:!1}),i.value.classList.add("scrollbar__thumbPlaceholder--scrolling"))};t({autoHideAfterScroll:()=>{v(),i.value&&i.value.classList.add("scrollbar__thumbPlaceholder--scrolling"),f()}});let w=L(!1),x=L(!1),A=L(null),S=null,E=null,O=h((()=>o.fixedThumb&&!x.value));const T=([e])=>x.value=e.isIntersecting,k=([e])=>w.value=e.isIntersecting,C=()=>{S&&(S.disconnect(),S=null),E&&(E.disconnect(),E=null)};return r((()=>[o.fixedThumb,o.wrapperEl]),(()=>{if(!o.fixedThumb||!o.wrapperEl)return C();C(),E=new IntersectionObserver(k,{threshold:[0,.5]}),E.observe(o.wrapperEl),S=new IntersectionObserver(T),S.observe(A.value)})),b(C),(t,n)=>(c(),d(R,null,[_(p("div",{class:B(["scrollbar__thumbPlaceholder",`scrollbar__thumbPlaceholder--${e.type}`,{"scrollbar__thumbPlaceholder--autoHide":e.autoHide,"scrollbar__thumbPlaceholder--autoExpand":e.autoExpand}]),style:F({width:"horizontal"===e.type?`${e.scrollInfo.thumbSize}px`:"",height:"vertical"===e.type?`${e.scrollInfo.thumbSize}px`:"",position:O.value?"fixed":"absolute",["vertical"===e.type?"top":"left"]:O.value?`${e.scrollInfo.boundaryDistance+3}px`:"3px"}),ref:(e,t)=>{t.thumbEl=e,i.value=e},onPointerdown:D(y,["stop"])},[n[0]||(te(-1),n[0]=p("div",{class:B(["scrollbar__thumb",`scrollbar__thumb--${e.type}`])},null,2),te(1),n[0])],46,Qa),[[P,Boolean(e.scrollInfo.thumbSize)&&(!e.fixedThumb||w.value)]]),o.fixedThumb?_((c(),d("div",{key:0,ref:(e,t)=>{t.shepherdEl=e,A.value=e},class:B(["scrollbar__shepherd",`scrollbar__shepherd--${e.type}`])},null,2)),[[P,Boolean(e.scrollInfo.thumbSize)]]):M("",!0)],64))}})),Ga={wait:333,type:"debounce"};function Ja(...e){const t="value"in(null==e?void 0:e[0]);let n;n=t?null==e?void 0:e[1]:null==e?void 0:e[0];const{wait:o,type:a,callback:r}=qa(qa({},Ga),n),l=t?e[0]:L(null),i=oe({left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0}),s=()=>{const e=l.value.getBoundingClientRect();i.left=e.left,i.top=e.top,i.right=e.right,i.bottom=e.bottom,i.width=e.width,i.height=e.height,i.x=e.x,i.y=e.y,null==r||r()};let u=null,c=null;const d=()=>{u&&window.removeEventListener("resize",u),c&&(c.disconnect(),c=null)};return ae((()=>{l.value&&(d(),u=s,"throttle"===a&&o>=4?u=He(u,o):"debounce"===a&&o>=4&&(u=Ne(u,o)),window.addEventListener("resize",u),c=new ResizeObserver(u),c.observe(l.value))})),b(d),t?i:[l,i]}const Za=E(Va(qa({},{name:"CustomScrollbar",inheritAttrs:!1}),{props:{wrapperClass:null,wrapperStyle:null,contentClass:null,contentStyle:null,direction:{default:"vertical"},thumbMinSize:{default:48},thumbMaxSize:{default:1/0},thumbWidth:{default:12},autoHide:{default:!0},autoHideDelay:{default:900},autoExpand:{default:!0},fixedThumb:null,throttleType:{default:"debounce"},throttleWait:{default:333},simulateScroll:null},emits:["wrapperResize","contentResize","scroll"],setup:function(e,{expose:t,emit:n}){const o=e,a={horizontal:{el:null,instance:null},vertical:{el:null,instance:null}};let l=L(null),s=L(null);i((()=>{var e;const t=Array.from(null==(e=l.value.parentElement)?void 0:e.childNodes);for(const n in a)a[n].el=t.find((e=>{var t;return null==(t=null==e?void 0:e.classList)?void 0:t.contains(`scrollbar__thumbPlaceholder--${n}`)}))}));const u=Ja(l,{wait:o.throttleWait,type:o.throttleType,callback:g}),f=Ja(s,{wait:o.throttleWait,type:o.throttleType,callback:g});let v=L(0),m=L(0);function g(){v.value=Math.max(l.value.scrollHeight-u.height|0,0),m.value=Math.max(l.value.scrollWidth-u.width|0,0)}let y=h((()=>({thumbSize:m.value?Re(u.width/l.value.scrollWidth*u.width,o.thumbMinSize>u.width?48:o.thumbMinSize,o.thumbMaxSize):0,contentMainSize:f.width,wrapperMainSize:u.width,boundaryDistance:Math.abs(u.left)}))),b=h((()=>({thumbSize:v.value?Re(u.height/l.value.scrollHeight*u.height,o.thumbMinSize>u.height?48:o.thumbMinSize,o.thumbMaxSize):0,contentMainSize:f.height,wrapperMainSize:u.height,boundaryDistance:Math.abs(u.top)}))),w=h((()=>u.height-b.value.thumbSize-5)),x=h((()=>u.width-y.value.thumbSize-5));const A=()=>{m.value&&(a.horizontal.el.style.transform=`translate3d(${l.value.scrollLeft/m.value*x.value}px, 0, 0)`,a.horizontal.instance.autoHideAfterScroll()),v.value&&(a.vertical.el.style.transform=`translate3d(0, ${l.value.scrollTop/v.value*w.value}px, 0)`,a.vertical.instance.autoHideAfterScroll())};r((()=>[m.value,v.value]),A);const S=e=>{o.simulateScroll?(e=>{e.stopPropagation();const t=l.value.scrollLeft,o=l.value.scrollTop,r=0|Re(t+((null==e?void 0:e.deltaX)||0),0,m.value),i=0|Re(o+((null==e?void 0:e.deltaY)||0),0,v.value);l.value.scrollLeft=r,l.value.scrollTop=i,m.value&&(a.horizontal.el.style.transform=`translate3d(${r/m.value*x.value}px, 0, 0)`,a.horizontal.instance.autoHideAfterScroll()),v.value&&(a.vertical.el.style.transform=`translate3d(0, ${i/v.value*w.value}px, 0)`,a.vertical.instance.autoHideAfterScroll()),n("scroll",{target:l.value,scrollLeft:r,scrollTop:i})})(e):A()};return r(u,(()=>n("wrapperResize",u))),r(f,(()=>n("contentResize",f))),t({scrollEl:l}),(t,n)=>(c(),d("div",{class:B(["scrollbar__wrapper",e.wrapperClass]),style:F(e.wrapperStyle)},[p("div",T({ref:(e,t)=>{t.wrapperEl=e,l.value=e},class:"scrollbar__scroller"},t.$attrs,{onWheel:S,onScroll:S}),[p("div",{ref:(e,t)=>{t.contentEl=e,s.value=e},class:B(["scrollbar__content",e.contentClass,{"scrollbar__content--fixedThumb":e.fixedThumb,[`scrollbar__content--${e.direction}`]:e.direction}]),style:F(e.contentStyle)},[O(t.$slots,"default")],6)],16),(c(),d(R,null,ne(a,((t,n)=>j(Ua,{ref:e=>((e,t)=>{a[t].instance||(a[t].instance=e)})(e,n),key:n,autoExpand:e.autoExpand,autoHide:e.autoHide,autoHideDelay:e.autoHideDelay,fixedThumb:n!==e.direction&&e.fixedThumb,type:n,scrollInfo:"vertical"===n?b.value:y.value,thumbWidth:e.thumbWidth,wrapperEl:l.value},null,8,["autoExpand","autoHide","autoHideDelay","fixedThumb","type","scrollInfo","thumbWidth","wrapperEl"]))),64))],6))}})),Xa={class:"switch-assistant"},Ya=["src"],er={class:"assistant-name"},tr={class:"assistant-menu",id:"assistantMenu"},nr={class:"assistant-menu-title"},or=["onClick"],ar={class:"icon"},rr=["src"],lr={class:"content"},ir={class:"name"},sr={class:"description"},ur={key:0,class:"active-icon"},cr={key:1,class:"pack"},dr={class:"switch-model"},pr=["src"],fr={class:"model-name"},vr={class:"model-menu",id:"switchMenu"},mr=["onClick"],hr={key:0,class:"menu-img"},gr={key:1,class:"pack"},yr={class:"name"},br=re({__name:"SwitchModel",props:["currentAccount","accountList","disabled","assistantList","currentAssistant"],emits:["update:currentAccount","update:accountList","update:assistantList","update:currentAssistant"],setup(e,{expose:t,emit:a}){const r=e,{chatQWeb:i}=ce(),u=ce(),f=l(),v=o(!1),m=o(!1),h=async e=>{if(!v.value&&!r.disabled){const t=await de(i.queryLLMAccountList);y({list:t,id:r.currentAccount.id}),v.value=!v.value,s((()=>{const t=e.target.getBoundingClientRect(),n=document.documentElement.clientHeight-t.bottom,o=document.querySelector("#switchMenu");o.style.top=n<o.clientHeight+10?`-${o.clientHeight+10}px`:"30px"}))}},g=async e=>{m.value||r.disabled||(await de(i.queryAssistantList),m.value=!m.value,s((()=>{document.documentElement.clientWidth;const e=document.querySelector("#assistantMenu");e.style.top=`-${e.clientHeight+10}px`})))},y=e=>{const{id:t,list:n}=e;console.log("switch llmAccountLstChanged: ",e);const o=JSON.parse(n);o.findIndex((e=>e.id===r.currentAccount.id)),t||a("update:currentAccount",{}),o.forEach((e=>{e.id===t&&(e.active=!0,a("update:currentAccount",e))})),a("update:accountList",o)};return f.proxy.$Bus.on("llmAccountLstChanged",y),x((()=>{f.proxy.$Bus.off("llmAccountLstChanged",y)})),t({showSwitchMenu:v}),(t,o)=>{const l=za,s=ie;return c(),d(R,null,[p("div",Xa,[e.assistantList.length>0?(c(),d(R,{key:0},[p("div",{class:B(e.disabled?"disabled assistant":"assistant"),style:{display:"flex"},onClick:g},[p("img",{src:e.currentAssistant.iconPrefix+e.currentAssistant.icon+"-16.svg",alt:""},null,8,Ya),e.currentAssistant?(c(),z(l,{key:0,"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:e.currentAssistant.displayname},{default:$((()=>[p("div",er,W(e.currentAssistant.displayname),1)])),_:1},8,["content"])):M("",!0),j(s,{icon:"combobox-arrow"})],2),_((c(),d("div",tr,[p("div",nr,W(n(u).loadTranslations["Assistant List"]),1),j(n(Za),{class:"scrollbar",id:"page-scroll",autoHideDelay:2e3,thumbWidth:6,wrapperStyle:{width:"100%",height:"calc(100% - 20px)"},style:{height:"100%"},contentStyle:{"padding-right":"0"}},{default:$((()=>[(c(!0),d(R,null,ne(e.assistantList,(e=>(c(),d("div",{class:"assistant-menu-item",key:e.index,onClick:t=>(async e=>{await de(i.setCurrentAssistantId,e.id),r.assistantList.forEach((t=>{t.active=!1,t.id===e.id&&(t.active=!0)})),m.value=!1,a("update:currentAssistant",e)})(e)},[p("div",ar,[p("img",{src:e.iconPrefix+e.icon+"-32.svg",alt:""},null,8,rr)]),p("div",lr,[p("div",ir,W(e.displayname),1),p("div",sr,W(e.description),1)]),e.active?(c(),d("div",ur,[j(s,{icon:"ok-acitve"})])):(c(),d("div",cr))],8,or)))),128))])),_:1},8,["wrapperStyle"])])),[[n($a),()=>m.value=!1,void 0,{bubble:!0}],[P,m.value]])],64)):M("",!0)]),p("div",dr,[e.accountList.length>0?(c(),d(R,{key:0},[p("div",{class:B(e.disabled?"disabled model":"model"),style:{display:"flex"},onClick:h},[p("img",{src:`file://${e.currentAccount.icon}`,alt:""},null,8,pr),e.currentAccount?(c(),z(l,{key:0,"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:e.currentAccount.displayname},{default:$((()=>[p("div",fr,W(e.currentAccount.displayname||e.currentAccount.llmname),1)])),_:1},8,["content"])):M("",!0),j(s,{icon:"combobox-arrow"})],2),_((c(),d("div",vr,[(c(!0),d(R,null,ne(e.accountList,(e=>(c(),d("div",{class:"menu-item",key:e.index,onClick:t=>(async e=>{await de(i.setCurrentLLMAccountId,e.id),r.accountList.forEach((t=>{t.active=!1,t.id===e.id&&(t.active=!0)})),v.value=!1,a("update:currentAccount",e)})(e)},[e.active?(c(),d("div",hr,[j(s,{icon:"ok-acitve"})])):(c(),d("div",gr)),p("div",yr,W(e.displayname||e.llmname),1)],8,mr)))),128))])),[[n($a),()=>v.value=!1,void 0,{bubble:!0}],[P,v.value]])],64)):(c(),z(l,{key:1,"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:n(u).loadTranslations["No account, please configure an account"]},{default:$((()=>[p("div",{class:"no-model",onClick:o[0]||(o[0]=e=>n(de)(n(i).launchLLMConfigWindow,!0))},[j(s,{icon:"no-model"}),le(" "+W(n(u).loadTranslations["No account"])+" ",1),j(s,{icon:"combobox-arrow"})])])),_:1},8,["content"]))])],64)}}},[["__scopeId","data-v-5d2b59d3"]]),wr={class:"welcome-page"},xr={class:"top"},Ar=["src"],Sr={class:"welcome-tip"},Er={class:"welcome-content-side"},Or={class:"tip"},Tr={class:"shortcut-list-3"},kr=["onClick"],Cr=["src"],Lr={class:"welcome-content"},Ir={class:"tip"},_r={class:"shortcut-list-6"},Pr=["onClick"],Mr=["src"],Rr={class:"title"},Br={class:"content"},zr=re({__name:"welcomePage",props:["question","recording","historyLength","currentAssistant","isKnowledgeBaseExist","isLLMExist","currentAccount"],emits:["update:question"],setup(e,{expose:t,emit:a}){const l=e,{chatQWeb:s}=ce(),u=ce();var f=o([]),v="";const m=e=>a("update:question",l.question+e);var h=!1;const g=async()=>{const e=await de(s.getAiFAQ);if(0===e.length)return console.log("get Ai FAQ empty"),void(f.value=[]);f.value=JSON.parse(e)},y=async()=>{l.isKnowledgeBaseExist?await de(s.launchLLMConfigWindow,!0):await de(s.configureKnowledgeBase)},b={sigWindowModeChanged:e=>{h=e},sigKnowledgeBaseFAQGenFinished:()=>{g()}};return i((async()=>{for(const e in b)Object.hasOwnProperty.call(b,e)&&s[e].connect(b[e]);g(),h=await de(s.isWindowMode),console.log("welcome page on mounted, isWindowMode: ",h)})),x((()=>{for(const e in b)Object.hasOwnProperty.call(b,e)&&s[e].disconnect(b[e])})),r((()=>l.historyLength),(e=>{console.log("history length changed."),0===e&&g()}),{deep:!0}),t({getAiFAQ:g}),r((()=>l.currentAssistant),(e=>{g()}),{deep:!0}),r((()=>l.currentAccount),(e=>{console.log("props.currentAccount changed: ",e),v!==e.id&&(v=e.id,g())}),{deep:!0}),r((()=>l.isKnowledgeBaseExist),(e=>{l.isKnowledgeBaseExist||l.currentAssistant.type!==u.AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT||g()}),{deep:!0}),(t,o)=>(c(),d("div",wr,[j(n(Za),{class:"scrollbar",id:"page-scroll",autoHideDelay:2e3,thumbWidth:6,wrapperStyle:{width:"100%",height:"100%"},style:{height:"100%"}},{default:$((()=>[p("div",xr,[p("img",{draggable:"false",src:e.currentAssistant.iconPrefix+e.currentAssistant.icon+"-110.svg",alt:""},null,8,Ar),p("div",Sr,W(e.currentAssistant.displayname),1)]),_(p("div",Er,[p("div",Or,W(e.currentAssistant.description),1),p("div",Tr,[(c(!0),d(R,null,ne(n(f).slice(0,3),(t=>(c(),d("div",{class:B(["item",{disabled:e.recording}]),key:t,onClick:n=>!e.recording&&m(t.Question)},[p("img",{class:"question-icon",src:t.iconPrefix+t.iconName+".png"},null,8,Cr),le(" "+W(t.Question),1)],10,kr)))),128))])],512),[[P,!n(h)&&(e.currentAssistant.type!==n(u).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT||e.currentAssistant.type===n(u).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT&&e.isKnowledgeBaseExist&&e.isLLMExist)]]),_(p("div",Lr,[p("div",Ir,W(e.currentAssistant.description),1),p("div",_r,[(c(!0),d(R,null,ne(n(f),(t=>(c(),d("div",{class:B(["item-6",{disabled:e.recording}]),key:t,onClick:n=>!e.recording&&m(t.Question)},[p("img",{class:"question-icon",src:t.iconPrefix+t.iconName+".png"},null,8,Mr),le(" "+W(t.Question),1)],10,Pr)))),128))])],512),[[P,n(h)&&(e.currentAssistant.type!==n(u).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT||e.currentAssistant.type===n(u).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT&&e.isKnowledgeBaseExist&&e.isLLMExist)]]),_(p("div",{class:B(["knowledge-base-config",{"window-mode":n(h)}])},[p("div",Rr,W(e.isKnowledgeBaseExist?n(u).loadTranslations["Please configure the large model"]:n(u).loadTranslations["Please configure the knowledge base"]),1),p("div",Br,W(e.isKnowledgeBaseExist?n(u).loadTranslations["The personal knowledge assistant can only be used after configuring a large model."]:n(u).loadTranslations["knowledge base configure content"]),1),p("div",{class:"config-btn",onClick:y},W(n(u).loadTranslations["To configure"]),1)],2),[[P,!(e.currentAssistant.type!==n(u).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT||e.isKnowledgeBaseExist&&e.isLLMExist)]])])),_:1})]))}},[["__scopeId","data-v-56baa5ff"]]),$r={class:"img-bubble"},Nr={class:"img-list"},jr={class:"img-item"},Dr=["onClick","src"],Hr={class:"img-btn"},Wr=["onClick"],Fr=["onClick"],Kr=re({__name:"ImgBubble",props:["content","disabled"],emits:["handleShowTip"],setup(e,{emit:t}){const{chatQWeb:o}=ce();return(a,r)=>{const l=ie;return c(),d("div",$r,[p("div",Nr,[(c(!0),d(R,null,ne(e.content,(a=>(c(),d("div",jr,[p("img",{onClick:e=>n(de)(n(o).previewImage,a),src:`file://${a}`,alt:""},null,8,Dr),p("div",Hr,[p("div",{class:B(["btn",{disabled:e.disabled}]),onClick:t=>!e.disabled&&n(de)(n(o).saveImageAs,a)},[j(l,{icon:"save"})],10,Wr),p("div",{class:"btn",style:{"margin-left":"5px"},onClick:e=>(async e=>{await de(o.copyImage2Clipboard,e),t("handleShowTip")})(a)},[j(l,{icon:"copy"})],8,Fr)])])))),256))])])}}},[["__scopeId","data-v-402f10ba"]]),qr={key:0,class:"chat-bubble"},Vr={style:{"user-select":"none"}},Qr={key:0,class:"loading"},Ur={key:2,ref:"target"},Gr={class:"play-audio"},Jr={key:0,class:"model"},Zr=["src"],Xr={class:"name"},Yr={class:"retry-content"},el=re({__name:"ChatBubble",props:["item","isLast","showStop","playAudioID","recording","netState","hasOutput","currentAssistant"],emits:["handleShowTip","retryRequest","update:playAudioID"],setup(e,{emit:t}){const l=e,{chatQWeb:i}=ce(),s=ce(),u=o(0),f=h((()=>l.item.anwsers&&5===l.item.anwsers.length)),v=[-9e3,-9001,-9003,-9002,-9004,-9100],m=h((()=>"user"!==l.item.role?v.includes(l.item.anwsers[u.value].status):v.includes(l.item.status))),g=h((()=>{if("user"!==l.item.role){const{content:e,type:t,status:n}=l.item.anwsers[u.value];return n>=0&&2===t&&e?JSON.parse(e):e}return l.item.content})),y=h((()=>!l.showStop&&l.isLast&&"user"!==l.item.role&&!v.includes(l.item.status))),b=h((()=>"user"!==l.item.role&&(!l.isLast||!l.showStop))),w=e=>{l.showStop||l.recording||("prev"===e&&u.value>0&&(u.value=u.value-1),"next"===e&&u.value<l.item.anwsers.length-1&&(u.value=u.value+1))};let x=1;const A=o("yinpin-1"),{pause:S,resume:E,isActive:O}=function(e,t=1e3,l={}){const{immediate:i=!0,immediateCallback:s=!1}=l;let u=null;const c=o(!1);function d(){u&&(clearInterval(u),u=null)}function p(){c.value=!1,d()}function f(){n(t)<=0||(c.value=!0,s&&e(),d(),u=setInterval(e,Ue(t)))}i&&Ke&&f(),a(t)&&Ze(r(t,(()=>{c.value&&Ke&&f()})));return Ze(p),{isActive:c,pause:p,resume:f}}((()=>{x++,x>9&&(x=1),A.value="yinpin-"+x}),300,{immediate:!1}),T=async()=>{const{content:e,talkID:n}=l.item.anwsers[u.value];await de(i.playTextAudio,n,e,!0)&&(t("update:playAudioID",n),E())},k=async()=>{await de(i.stopPlayTextAudio),t("update:playAudioID",""),S()};return r((()=>l.item.anwsers),(e=>{Array.isArray(e)&&(u.value=e.length-1)}),{deep:!0,immediate:!0}),r((()=>l.playAudioID),(e=>{if(!l.item.anwsers)return;const{talkID:t}=l.item.anwsers[u.value];e!==t&&S()})),r((()=>l.currentAssistant),(e=>{k()})),(o,a)=>{const r=ie,v=za;return e.item?(c(),d("div",qr,[l.item.anwsers&&l.item.anwsers.length>1?(c(),d("div",{key:0,class:B(["switch-btn",{disabled:e.showStop||e.recording}])},[p("div",{class:B(["prev btn",{disabled:0===u.value||e.recording}]),onClick:a[0]||(a[0]=e=>w("prev"))},[j(r,{icon:"arrow_left"})],2),p("div",Vr,W(u.value+1)+"/"+W(e.item.anwsers.length),1),p("div",{class:B(["next btn",{disabled:u.value+1===e.item.anwsers.length||e.recording}]),onClick:a[1]||(a[1]=e=>w("next"))},[j(r,{icon:"arrow_right"})],2)],2)):M("",!0),p("div",{class:B(`${e.item.role} item`),style:F({minWidth:""===n(g)||"user"===e.item.role?"auto":"200px"})},[""===n(g)&&e.showStop&&e.isLast?(c(),d("div",Qr)):Array.isArray(n(g))?(c(),z(Kr,{key:1,onHandleShowTip:a[2]||(a[2]=e=>t("handleShowTip",n(s).loadTranslations["Copied successfully"])),disabled:e.recording||!!e.playAudioID,content:n(g)},null,8,["disabled","content"])):(c(),d("pre",Ur,[le(W(n(g)),1),_(p("span",{class:B([{disabled:e.recording},"go-config"]),onClick:a[3]||(a[3]=t=>!e.recording&&n(de)(n(i).launchLLMConfigWindow,-9100!=l.item.status))}," "+W(n(s).loadTranslations["Go to configuration"])+" >",3),[[P,n(m)]])],512)),_(p("div",Gr,[e.item.anwsers&&e.item.anwsers[u.value]&&e.item.anwsers[u.value].llmName?(c(),d("div",Jr,[p("img",{src:`file://${e.item.anwsers[u.value].llmIcon}`,alt:""},null,8,Zr),j(v,{"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:e.item.anwsers[u.value].llmName},{default:$((()=>[p("div",Xr,W(e.item.anwsers[u.value].llmName),1)])),_:1},8,["content"])])):M("",!0),n(b)&&""!==n(g)&&!Array.isArray(n(g))?(c(),d(R,{key:1},[p("div",{class:"play-animation",style:F({visibility:n(O)?"visible":"hidden"})},[j(r,{icon:A.value},null,8,["icon"])],4),e.netState&&e.hasOutput?_((c(),z(r,{key:0,class:B({disabled:e.showStop||e.recording||!e.netState}),style:{},icon:"play",onClick:a[4]||(a[4]=t=>!e.showStop&&!e.recording&&e.netState&&e.hasOutput&&T())},null,8,["class"])),[[P,!n(O)]]):(c(),z(v,{key:1,"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:e.hasOutput?e.netState?"":n(s).loadTranslations["Voice broadcast is temporarily unavailable, please check the network!"]:n(s).loadTranslations["The sound output device is not detected, please check and try again!"]},{default:$((()=>[_(j(r,{class:B({disabled:e.showStop||e.recording||!e.netState||!e.hasOutput}),style:{},icon:"play",onClick:a[5]||(a[5]=t=>!e.showStop&&!e.recording&&e.netState&&e.hasOutput&&T())},null,8,["class"]),[[P,!n(O)]])])),_:1},8,["content"])),_(j(r,{icon:"stop",onClick:k},null,512),[[P,n(O)]])],64)):M("",!0),_(j(r,{icon:"copy",class:"copy-btn",onClick:a[6]||(a[6]=e=>(e=>{let n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("Copy"),n.remove(),t("handleShowTip",s.loadTranslations["Copied successfully"])})(n(g)))},null,512),[[P,n(b)&&!n(m)&&""!==n(g)&&!Array.isArray(n(g))]])],512),[[P,"user"!==e.item.role&&""!==n(g)]])],6),n(f)?(c(),z(v,{key:2,"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:n(f)?n(s).loadTranslations["Answer each question up to 5 times"]:""},{default:$((()=>[_(p("div",{class:B([{disabledbtn:n(f)||e.recording},"retry-btn"]),onClick:a[8]||(a[8]=o=>!n(f)&&!e.recording&&t("retryRequest"))},[p("div",Yr,[j(r,{icon:"again"}),le(" "+W(n(s).loadTranslations.Regenerate),1)])],2),[[P,n(y)]])])),_:1},8,["content"])):_((c(),d("div",{key:1,class:B([{disabled:n(f)||e.recording},"retry-btn"]),onClick:a[7]||(a[7]=o=>!n(f)&&!e.recording&&t("retryRequest"))},[j(r,{icon:"again"}),le(" "+W(n(s).loadTranslations.Regenerate),1)],2)),[[P,n(y)]])])):M("",!0)}}},[["__scopeId","data-v-511e09b3"]]),tl={class:"main-content"},nl={class:"chat-history"},ol={class:"bubble-div"},al={class:"chat-bottom"},rl={class:"handle-tip"},ll={class:"top"},il={class:"send-btn"},sl={class:"tip"},ul=re({__name:"index",setup(e){const t=se(),{chatQWeb:a,updateActivityColor:r,updateTheme:u,updateFont:f}=ce(),v=ce(),m=l(),g=o(""),y=o(!1),b=o(!1),w=o(!1),A=o(""),S=o([]),E=o([]),O=o([]),T=o(""),k=o(""),C=o(""),L=o(!1),I=o(!1),N=h((()=>w.value)),D=o(!1),H=o(""),F=o(!1),K=async()=>{if(0===g.value.trim().length||N.value)return;if(Y.value)return F.value=!0,void me();await de(a.stopPlayTextAudio),C.value="",Y.value&&me();const{id:e,model:t,icon:n,displayname:o}=T.value,r=await de(a.sendAiRequest,e||"",t||"",1,g.value,2);r.length<=0||(S.value.push({role:"user",content:g.value}),S.value.push({role:"assistant",anwsers:[{content:"",talkID:r,status:0,type:0,llmIcon:n||"",llmName:o||""}]}),H.value=r,G(),w.value=!0,g.value="")},q=async()=>{0===S.value.length||N.value||Y.value||(await de(a.clearAiChatRecords),await de(a.stopPlayTextAudio),C.value="",S.value=[],Q(v.loadTranslations["Chat history cleared"]))},V=e=>{e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),document.execCommand("insertText",!1,"\n"))},Q=e=>{b.value=!0,A.value=e,setTimeout((()=>{b.value=!1}),3e3)},U=async e=>{console.log("current assistant id changed: ",e.id);const t=await de(a.getAiChatRecords,!1);S.value=JSON.parse(t)},G=()=>{let e=document.getElementById("chatHistory");e.scrollHeight>e.clientHeight&&setTimeout((()=>{e.scrollTop=e.scrollHeight}),0)},J=async()=>{await de(a.cancelAiRequest,H.value);const e=S.value[S.value.length-2].content,{type:t,content:n}=pe.last(pe.last(S.value).anwsers),{icon:o,displayname:r}=T.value;de(a.logAiChatRecord,H.value,e,n,Z.value,0,"",t,o||"",r||""),w.value=!1,Z.value=!1},Z=o(!1),X=async()=>{const e=S.value[S.value.length-2].content;await de(a.stopPlayTextAudio),C.value="",Y.value&&me();const{id:t,model:n,icon:o,displayname:r}=T.value,l=await de(a.sendAiRequest,t||"",n||"",1,e,2);pe.last(S.value).anwsers.push({content:"",status:"",talkID:l,type:0,llmIcon:o||"",llmName:r||""}),H.value=l,Z.value=!0,w.value=!0},Y=o(!1),ee=o(""),te=o(""),oe=async()=>{if(console.log(Y.value),D.value&&!w.value&&be.value){if(Y.value)return me();if(!Y.value&&(D.value=await de(a.isAudioInputAvailable),await de(a.stopPlayTextAudio),D.value)){await de(a.startRecorder,0);const e=ae.value.textarea.selectionStart;ee.value=ae.value.textarea.value.substr(0,e),te.value=ae.value.textarea.value.substr(e),Y.value=!0,C.value=""}}},ae=o(),re=o(0),ve=o(!1),me=()=>{Y.value=!1,re.value=0,ye.value=0,ve.value=!1,de(a.stopRecorder)},he=o(!0),ge=o(),ye=o(0),be=o(!0),we=o();function xe(e){"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),console.log("chat"),K())}const Ae={sigAiReplyStream:(e,t,n)=>{if(console.log("sigAiReplyStream: ",{type:e,value:t,status:n}),0===n?pe.last(pe.last(S.value).anwsers).content=pe.last(pe.last(S.value).anwsers).content+t:(200===n||(pe.last(pe.last(S.value).anwsers).content=t,pe.last(S.value).status=n),pe.last(pe.last(S.value).anwsers).status=n),0!==n){const e=S.value[S.value.length-2].content,{type:t,content:o}=pe.last(pe.last(S.value).anwsers);console.log(H.value,e,o,Z.value,n,"",t);const{icon:r,displayname:l}=T.value;de(a.logAiChatRecord,H.value,e,o,Z.value,n,"",t,r,l),w.value=!1,Z.value=!1}G()},llmAccountLstChanged:(e,t)=>{if(I.value=e.trim().length>0,console.log("index.vue: llmAccountLstChanged.........  id: ",e),console.log("index.vue: llmAccountLstChanged.........  list: ",t),t){const n=JSON.parse(t);I.value=n.length>0,n.forEach((t=>{t.id===e&&(t.active=!0,T.value=t)})),E.value=t}m.proxy.$Bus.emit("llmAccountLstChanged",{id:e,list:t})},sigActiveColorChanged:e=>r(e),sigAudioASRStream:(e,t)=>{g.value=ee.value+e+te.value,t&&(F.value&&(F.value=!1,K()),me(),ae.value.focus())},sigAudioASRError:me,sigAudioCountDown:e=>{re.value=e,e>0&&(ve.value=!0),0===e&&setTimeout((()=>ve.value=!1),1e3)},sigPlayTTSFinished:e=>{console.log("sigPlayTTSFinished",e),C.value===e&&(C.value="")},sigPlayTTSError:e=>C.value="",sigAudioInputDevChange:e=>{D.value=e,e||(Y.value=!1)},sigAudioOutputDevChanged:e=>{e||(C.value=""),he.value=e},sigChatConversationType:(e,t)=>{void 0!==pe.last(S.value)&&(pe.last(pe.last(S.value).anwsers).type=t)},sigText2PicFinish:(e,t)=>{pe.last(pe.last(S.value).anwsers).content=JSON.stringify(t);const n=S.value[S.value.length-2].content,o=pe.last(pe.last(S.value).anwsers).type;console.log(H.value,n,t,Z.value,0,"",o);const{icon:r,displayname:l}=T.value;de(a.logAiChatRecord,H.value,n,JSON.stringify(t),Z.value,0,"",o,r||"",l||""),G(),w.value=!1,Z.value=!1},sigThemeChanged:e=>u(e),sigFontChanged:(e,t)=>f(e,t),sigWebchat2BeHiden:()=>{de(a.stopPlayTextAudio),C.value="",ge.value.getAiFAQ(),me()},sigAudioSampleLevel:e=>ye.value=e,sigNetStateChanged:e=>{be.value=e,Y.value&&(Y.value=!1,de(a.stopRecorder))},sigDigitalModeActive:()=>{"DigitalImage"==t.currentRoute.value.name||(de(a.stopPlayTextAudio),t.push("/DigitalImage"))},sigChatModeActive:()=>{},sigWebchatActiveChanged:e=>{e||(we.value.showSwitchMenu=!1)},sigWebchatModalityChanged:e=>(e=>{let t=document.querySelector("#drop-mask");t||(t=document.createElement("div"),t.id="drop-mask",document.body.appendChild(t)),t.style.height="100vh",t.style.width="100vw",t.style.display=e?"flex":"none"})(e),sigKnowledgeBaseStatusChanged:e=>{console.log("knowledge base status changed: ",e),L.value=e}};return i((async()=>{for(const t in Ae)Object.hasOwnProperty.call(Ae,t)&&a[t].connect(Ae[t]);document.addEventListener("keydown",xe),(async()=>{const e=await de(a.getAiChatRecords,!1),t=await de(a.queryLLMAccountList),n=await de(a.currentLLMAccountId),o=await de(a.queryAssistantList),r=await de(a.currentAssistantId);if(D.value=await de(a.isAudioInputAvailable),he.value=await de(a.isAudioOutputAvailable),be.value=await de(a.isNetworkAvailable),L.value=await de(a.isKnowledgeBaseExist),S.value=JSON.parse(e),console.log(S.value),console.log("assistant list: ",o),console.log("current assistant id: ",r),o){const e=JSON.parse(o);O.value=e,e.forEach((e=>{e.id===r&&(e.active=!0,k.value=e)}))}if(t){const e=JSON.parse(t);I.value=e.length>0,e.forEach((e=>{e.id===n&&(e.active=!0,T.value=e)})),E.value=e}s((()=>G()))})(),ce().loadTranslations=await de(a.loadTranslations),console.log(ce().loadTranslations);var e=(await de(a.fontInfo)).split("#");document.documentElement.style.fontFamily=e[0],document.documentElement.style.fontSize=e[1]+"px"})),x((()=>{for(const e in Ae)Object.hasOwnProperty.call(Ae,e)&&a[e].disconnect(Ae[e]);document.removeEventListener("keydown",xe)})),(e,t)=>{const o=ie,a=ie,r=za,l=Mn;return c(),d("div",tl,[j(fe),_(j(zr,{ref_key:"welcomePageRef",ref:ge,question:g.value,"onUpdate:question":t[0]||(t[0]=e=>g.value=e),recording:Y.value,historyLength:S.value.length,currentAssistant:k.value,isKnowledgeBaseExist:L.value,isLLMExist:I.value,currentAccount:T.value},null,8,["question","recording","historyLength","currentAssistant","isKnowledgeBaseExist","isLLMExist","currentAccount"]),[[P,0===S.value.length]]),_(p("div",nl,[j(n(Za),{class:"history-scrollbar",id:"chatHistory",autoHideDelay:2e3,thumbWidth:6,wrapperStyle:{height:"100%"},style:{width:"100%",height:"100%"}},{default:$((()=>[p("div",ol,[(c(!0),d(R,null,ne(S.value,((e,n)=>(c(),z(el,{key:n,playAudioID:C.value,"onUpdate:playAudioID":t[1]||(t[1]=e=>C.value=e),item:e,showStop:w.value,isLast:S.value.length===n+1,recording:Y.value,netState:be.value,hasOutput:he.value,onHandleShowTip:Q,onRetryRequest:X,currentAssistant:k.value},null,8,["playAudioID","item","showStop","isLast","recording","netState","hasOutput","currentAssistant"])))),128))])])),_:1})],512),[[P,S.value.length>0]]),p("div",al,[p("div",rl,[_(p("div",{class:"tip-item"},W(A.value),513),[[P,b.value]]),n(v).loadTranslations["Stop recording after %1 seconds"]?_((c(),d("div",{key:0,class:"tip-item"},W(n(v).loadTranslations["Stop recording after %1 seconds"].replace("%1",re.value)),513)),[[P,ve.value]]):M("",!0),_(p("div",{class:"top-stop tip-item",onClick:J},[j(o,{icon:"stop"}),le(" "+W(n(v).loadTranslations.Stop),1)],512),[[P,w.value]])]),p("div",ll,[j(r,{"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:n(v).loadTranslations["Clear conversation history"]},{default:$((()=>[p("div",{class:B(["clear",{disabled:0===S.value.length||n(N)||Y.value}]),onClick:q},[j(a,{icon:"clear"})],2)])),_:1},8,["content"]),j(br,{ref_key:"switchModel",ref:we,currentAccount:T.value,"onUpdate:currentAccount":t[2]||(t[2]=e=>T.value=e),accountList:E.value,"onUpdate:accountList":t[3]||(t[3]=e=>E.value=e),assistantList:O.value,"onUpdate:assistantList":t[4]||(t[4]=e=>O.value=e),currentAssistant:k.value,"onUpdate:currentAssistant":[t[5]||(t[5]=e=>k.value=e),U],disabled:n(N)||Y.value},null,8,["currentAccount","accountList","assistantList","currentAssistant","disabled"])]),p("div",{class:B(["input-content",{foucs:y.value}])},[j(l,{modelValue:g.value,"onUpdate:modelValue":t[6]||(t[6]=e=>g.value=e),ref_key:"questionInput",ref:ae,resize:"none",autosize:{minRows:4,maxRows:10},type:"textarea",placeholder:n(v).loadTranslations["Input question"],onFocus:t[7]||(t[7]=e=>y.value=!0),onBlur:t[8]||(t[8]=e=>y.value=!1),onKeydown:ue(V,["enter","native"]),disabled:Y.value||k.value.type===n(v).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT&&!L.value},null,8,["modelValue","placeholder","onKeydown","disabled"]),p("div",il,[j(r,{"popper-class":"uos-tooltip",effect:"light","show-arrow":!1,enterable:!1,"show-after":1e3,offset:2,content:be.value?D.value?n(v).loadTranslations["Voice input"]:n(v).loadTranslations["Please connect the microphone and try again"]:n(v).loadTranslations["Voice input is temporarily unavailable, please check the network!"]},{default:$((()=>[p("div",{class:B(["voice-btn btn",{recording:Y.value,disabled:!D.value||w.value||!be.value||k.value.type===n(v).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT&&!L.value,notalking:0===ye.value}]),onClick:oe},[j(a,{icon:"voice"})],2)])),_:1},8,["content"]),p("div",{class:B(["send btn",{disabled:0===g.value.trim().length||n(N)||k.value.type===n(v).AssistantType.PERSONAL_KNOWLEDGE_ASSISTANT&&!L.value}]),onClick:K},[j(a,{icon:"send"})],2)])],2),p("div",sl,W(n(v).loadTranslations["The content generated by AI is for reference only, please pay attention to the accuracy of the information."]),1)])])}}},[["__scopeId","data-v-16701d44"]]);export{ul as default};
